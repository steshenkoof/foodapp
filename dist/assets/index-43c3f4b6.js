var e;import{r as s,a as t,R as i}from"./vendor-3192ac2a.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver((e=>{for(const t of e)if("childList"===t.type)for(const e of t.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&s(e)})).observe(document,{childList:!0,subtree:!0})}function s(e){if(e.ep)return;e.ep=!0;const s=function(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?s.credentials="include":"anonymous"===e.crossOrigin?s.credentials="omit":s.credentials="same-origin",s}(e);fetch(e.href,s)}}();var a={exports:{}},n={},r=s,l=Symbol.for("react.element"),o=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,d=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,x={key:!0,ref:!0,__self:!0,__source:!0};function h(e,s,t){var i,a={},n=null,r=null;for(i in void 0!==t&&(n=""+t),void 0!==s.key&&(n=""+s.key),void 0!==s.ref&&(r=s.ref),s)c.call(s,i)&&!x.hasOwnProperty(i)&&(a[i]=s[i]);if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:l,type:e,key:n,ref:r,props:a,_owner:d.current}}n.Fragment=o,n.jsx=h,n.jsxs=h,a.exports=n;var p=a.exports,m={},g=t;function u({onNext:e}){return p.jsxs("div",{className:"text-center fade-in",style:{padding:"40px 0"},children:[p.jsx("div",{style:{fontSize:"64px",marginBottom:"24px"},children:"üçé"}),p.jsx("h1",{style:{fontSize:"32px",fontWeight:"700",marginBottom:"16px"},children:"Cal AI"}),p.jsxs("p",{style:{fontSize:"18px",color:"var(--secondary-text-color)",marginBottom:"40px",lineHeight:"1.5"},children:["–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫ –¥–ª—è –ø–æ–¥—Å—á–µ—Ç–∞ –∫–∞–ª–æ—Ä–∏–π.",p.jsx("br",{}),"–£–∑–Ω–∞–π—Ç–µ —Å–≤–æ—é –¥–Ω–µ–≤–Ω—É—é –Ω–æ—Ä–º—É –∑–∞ 2 –º–∏–Ω—É—Ç—ã!"]}),p.jsxs("div",{className:"card",style:{marginBottom:"32px",textAlign:"left"},children:[p.jsx("h3",{style:{marginBottom:"16px",fontSize:"18px"},children:"–ß—Ç–æ –º—ã —Å–¥–µ–ª–∞–µ–º:"}),p.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[p.jsx("span",{style:{fontSize:"20px"},children:"üìä"}),p.jsx("span",{children:"–û–ø—Ä–µ–¥–µ–ª–∏–º –≤–∞—à–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã"})]}),p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[p.jsx("span",{style:{fontSize:"20px"},children:"üéØ"}),p.jsx("span",{children:"–í—ã–±–µ—Ä–µ–º —Ü–µ–ª—å"})]}),p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[p.jsx("span",{style:{fontSize:"20px"},children:"üßÆ"}),p.jsx("span",{children:"–†–∞—Å—Å—á–∏—Ç–∞–µ–º –∫–∞–ª–æ—Ä–∏–∏"})]})]})]}),p.jsx("button",{className:"btn btn-primary",onClick:()=>e({}),style:{fontSize:"18px",padding:"16px 32px"},children:"–ù–∞—á–∞—Ç—å"})]})}function j({data:e,onNext:t,onBack:i}){const[a,n]=s.useState(e.gender||""),[r,l]=s.useState(e.age||""),o=a&&r&&r>=15&&r<=100;return p.jsxs("div",{className:"fade-in",children:[p.jsxs("div",{className:"text-center mb-6",children:[p.jsx("h2",{style:{fontSize:"24px",fontWeight:"700",marginBottom:"8px"},children:"–û—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ"}),p.jsx("p",{style:{color:"var(--secondary-text-color)"},children:"–†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ —Å–µ–±–µ"})]}),p.jsxs("form",{onSubmit:e=>{e.preventDefault(),a&&r&&t({gender:a,age:parseInt(r)})},children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{className:"form-label",children:"–ü–æ–ª"}),p.jsxs("div",{className:"radio-group",children:[p.jsxs("label",{className:"radio-option "+("male"===a?"selected":""),children:[p.jsx("input",{type:"radio",name:"gender",value:"male",checked:"male"===a,onChange:e=>n(e.target.value)}),p.jsx("div",{className:"radio-option-content",children:p.jsx("div",{className:"radio-option-title",children:"üë® –ú—É–∂—Å–∫–æ–π"})})]}),p.jsxs("label",{className:"radio-option "+("female"===a?"selected":""),children:[p.jsx("input",{type:"radio",name:"gender",value:"female",checked:"female"===a,onChange:e=>n(e.target.value)}),p.jsx("div",{className:"radio-option-content",children:p.jsx("div",{className:"radio-option-title",children:"üë© –ñ–µ–Ω—Å–∫–∏–π"})})]})]})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{className:"form-label",children:"–í–æ–∑—Ä–∞—Å—Ç"}),p.jsx("input",{type:"number",className:"form-input",value:r,onChange:e=>l(e.target.value),placeholder:"–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –≤–æ–∑—Ä–∞—Å—Ç",min:"15",max:"100"}),r&&(r<15||r>100)&&p.jsx("p",{style:{color:"var(--danger-color)",fontSize:"14px",marginTop:"4px"},children:"–í–æ–∑—Ä–∞—Å—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç 15 –¥–æ 100 –ª–µ—Ç"})]}),p.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"32px"},children:[p.jsx("button",{type:"button",className:"btn btn-secondary",onClick:i,style:{flex:"0 0 auto",width:"80px"},children:"–ù–∞–∑–∞–¥"}),p.jsx("button",{type:"submit",className:"btn btn-primary",disabled:!o,style:{flex:1},children:"–î–∞–ª–µ–µ"})]})]})]})}function f({data:e,onNext:t,onBack:i}){const[a,n]=s.useState(e.height||""),[r,l]=s.useState(e.weight||""),o=a&&a>=120&&a<=250,c=r&&r>=30&&r<=300,d=o&&c;return p.jsxs("div",{className:"fade-in",children:[p.jsxs("div",{className:"text-center mb-6",children:[p.jsx("h2",{style:{fontSize:"24px",fontWeight:"700",marginBottom:"8px"},children:"–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ç–µ–ª–∞"}),p.jsx("p",{style:{color:"var(--secondary-text-color)"},children:"–í–≤–µ–¥–∏—Ç–µ –≤–∞—à —Ä–æ—Å—Ç –∏ –≤–µ—Å"})]}),p.jsxs("form",{onSubmit:e=>{e.preventDefault(),a&&r&&t({height:parseInt(a),weight:parseFloat(r)})},children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{className:"form-label",children:"–†–æ—Å—Ç (—Å–º)"}),p.jsx("input",{type:"number",className:"form-input",value:a,onChange:e=>n(e.target.value),placeholder:"–ù–∞–ø—Ä–∏–º–µ—Ä, 175",min:"120",max:"250"}),a&&!o&&p.jsx("p",{style:{color:"var(--danger-color)",fontSize:"14px",marginTop:"4px"},children:"–†–æ—Å—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç 120 –¥–æ 250 —Å–º"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{className:"form-label",children:"–í–µ—Å (–∫–≥)"}),p.jsx("input",{type:"number",step:"0.1",className:"form-input",value:r,onChange:e=>l(e.target.value),placeholder:"–ù–∞–ø—Ä–∏–º–µ—Ä, 70.5",min:"30",max:"300"}),r&&!c&&p.jsx("p",{style:{color:"var(--danger-color)",fontSize:"14px",marginTop:"4px"},children:"–í–µ—Å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç 30 –¥–æ 300 –∫–≥"})]}),a&&r&&d&&p.jsx("div",{className:"card",style:{backgroundColor:"rgba(52, 199, 89, 0.1)",border:"1px solid var(--secondary-color)"},children:p.jsxs("div",{style:{textAlign:"center"},children:[p.jsxs("div",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"4px"},children:["–ò–ú–¢: ",(r/(a/100)**2).toFixed(1)]}),p.jsx("div",{style:{fontSize:"14px",color:"var(--secondary-text-color)"},children:(()=>{const e=r/(a/100)**2;return e<18.5?"üìâ –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–π –≤–µ—Å":e<25?"‚úÖ –ù–æ—Ä–º–∞–ª—å–Ω—ã–π –≤–µ—Å":e<30?"üìà –ò–∑–±—ã—Ç–æ—á–Ω—ã–π –≤–µ—Å":"üî¥ –û–∂–∏—Ä–µ–Ω–∏–µ"})()})]})}),p.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"32px"},children:[p.jsx("button",{type:"button",className:"btn btn-secondary",onClick:i,style:{flex:"0 0 auto",width:"80px"},children:"–ù–∞–∑–∞–¥"}),p.jsx("button",{type:"submit",className:"btn btn-primary",disabled:!d,style:{flex:1},children:"–î–∞–ª–µ–µ"})]})]})]})}m.createRoot=g.createRoot,m.hydrateRoot=g.hydrateRoot;const y={sedentary:{value:1.2,label:"–°–∏–¥—è—á–∏–π –æ–±—Ä–∞–∑ –∂–∏–∑–Ω–∏",description:"–ú–∞–ª–æ –∏–ª–∏ –Ω–∏–∫–∞–∫–∏—Ö —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π"},light:{value:1.375,label:"–õ–µ–≥–∫–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å",description:"–õ–µ–≥–∫–∏–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è 1-3 –¥–Ω—è –≤ –Ω–µ–¥–µ–ª—é"},moderate:{value:1.55,label:"–£–º–µ—Ä–µ–Ω–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å",description:"–£–º–µ—Ä–µ–Ω–Ω—ã–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è 3-5 –¥–Ω–µ–π –≤ –Ω–µ–¥–µ–ª—é"},high:{value:1.725,label:"–í—ã—Å–æ–∫–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å",description:"–ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω—ã–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è 6-7 –¥–Ω–µ–π –≤ –Ω–µ–¥–µ–ª—é"},extreme:{value:1.9,label:"–û—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å",description:"–û—á–µ–Ω—å –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω—ã–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è, —Ñ–∏–∑–∏—á–µ—Å–∫–∞—è —Ä–∞–±–æ—Ç–∞"}},v={lose:{label:"–°–Ω–∏–∂–µ–Ω–∏–µ –≤–µ—Å–∞",modifier:-500,description:"–ü–æ—Ç–µ—Ä—è 0.5 –∫–≥ –≤ –Ω–µ–¥–µ–ª—é"},maintain:{label:"–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤–µ—Å–∞",modifier:0,description:"–ü–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –≤–µ—Å–∞"},gain:{label:"–ù–∞–±–æ—Ä –≤–µ—Å–∞",modifier:500,description:"–ù–∞–±–æ—Ä 0.5 –∫–≥ –≤ –Ω–µ–¥–µ–ª—é"}};function b(e){const s=function(e){const{gender:s,age:t,height:i,weight:a}=e,n=10*a+6.25*i-5*t+("male"===s?5:-161);return Math.round(n)}(e),t=function(e,s){const t=y[s].value;return Math.round(e*t)}(s,e.activity),i=function(e,s){const t=v[s].modifier;return Math.round(e+t)}(t,e.goal);return{bmr:s,tdee:t,targetCalories:i,goal:v[e.goal],activity:y[e.activity]}}function N(e){const s=Math.round(.3*e/4),t=Math.round(.4*e/4),i=Math.round(.3*e/9);return{protein:{grams:s,calories:4*s},carbs:{grams:t,calories:4*t},fat:{grams:i,calories:9*i}}}function S({data:e,onNext:t,onBack:i}){const[a,n]=s.useState(e.activity||""),r=a;return p.jsxs("div",{className:"fade-in",children:[p.jsxs("div",{className:"text-center mb-6",children:[p.jsx("h2",{style:{fontSize:"24px",fontWeight:"700",marginBottom:"8px"},children:"–£—Ä–æ–≤–µ–Ω—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏"}),p.jsx("p",{style:{color:"var(--secondary-text-color)"},children:"–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à –æ–±—ã—á–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å —Ñ–∏–∑–∏—á–µ—Å–∫–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏"})]}),p.jsxs("form",{onSubmit:e=>{e.preventDefault(),a&&t({activity:a})},children:[p.jsx("div",{className:"form-group",children:p.jsx("div",{className:"radio-group",children:Object.entries(y).map((([e,s])=>p.jsxs("label",{className:"radio-option "+(a===e?"selected":""),children:[p.jsx("input",{type:"radio",name:"activity",value:e,checked:a===e,onChange:e=>n(e.target.value)}),p.jsxs("div",{className:"radio-option-content",children:[p.jsxs("div",{className:"radio-option-title",children:[w(e)," ",s.label]}),p.jsx("div",{className:"radio-option-description",children:s.description})]})]},e)))})}),p.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"32px"},children:[p.jsx("button",{type:"button",className:"btn btn-secondary",onClick:i,style:{flex:"0 0 auto",width:"80px"},children:"–ù–∞–∑–∞–¥"}),p.jsx("button",{type:"submit",className:"btn btn-primary",disabled:!r,style:{flex:1},children:"–î–∞–ª–µ–µ"})]})]})]})}function w(e){return{sedentary:"ü™ë",light:"üö∂",moderate:"üèÉ",high:"üèãÔ∏è",extreme:"üí™"}[e]||"üèÉ"}function C({data:e,onNext:t,onBack:i}){const[a,n]=s.useState(e.goal||""),r=a;return p.jsxs("div",{className:"fade-in",children:[p.jsxs("div",{className:"text-center mb-6",children:[p.jsx("h2",{style:{fontSize:"24px",fontWeight:"700",marginBottom:"8px"},children:"–í–∞—à–∞ —Ü–µ–ª—å"}),p.jsx("p",{style:{color:"var(--secondary-text-color)"},children:"–ß—Ç–æ –≤—ã —Ö–æ—Ç–∏—Ç–µ —Å–¥–µ–ª–∞—Ç—å —Å –≤–∞—à–∏–º –≤–µ—Å–æ–º?"})]}),p.jsxs("form",{onSubmit:e=>{e.preventDefault(),a&&t({goal:a})},children:[p.jsx("div",{className:"form-group",children:p.jsx("div",{className:"radio-group",children:Object.entries(v).map((([e,s])=>p.jsxs("label",{className:"radio-option "+(a===e?"selected":""),children:[p.jsx("input",{type:"radio",name:"goal",value:e,checked:a===e,onChange:e=>n(e.target.value)}),p.jsxs("div",{className:"radio-option-content",children:[p.jsxs("div",{className:"radio-option-title",children:[k(e)," ",s.label]}),p.jsx("div",{className:"radio-option-description",children:s.description})]})]},e)))})}),a&&p.jsx("div",{className:"card",style:{backgroundColor:"rgba(0, 122, 255, 0.1)",border:"1px solid var(--primary-color)"},children:p.jsxs("div",{style:{textAlign:"center"},children:[p.jsx("div",{style:{fontSize:"20px",marginBottom:"8px"},children:k(a)}),p.jsx("div",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"4px"},children:v[a].label}),p.jsxs("div",{style:{fontSize:"14px",color:"var(--secondary-text-color)"},children:["lose"===a&&"–°–æ–∑–¥–∞–¥–∏–º –¥–µ—Ñ–∏—Ü–∏—Ç –∫–∞–ª–æ—Ä–∏–π –¥–ª—è –∑–¥–æ—Ä–æ–≤–æ–≥–æ –ø–æ—Ö—É–¥–µ–Ω–∏—è","maintain"===a&&"–ü–æ–¥–¥–µ—Ä–∂–∏–º –≤–∞—à —Ç–µ–∫—É—â–∏–π –≤–µ—Å —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –ø–∏—Ç–∞–Ω–∏–µ–º","gain"===a&&"–°–æ–∑–¥–∞–¥–∏–º –ø—Ä–æ—Ñ–∏—Ü–∏—Ç –∫–∞–ª–æ—Ä–∏–π –¥–ª—è –Ω–∞–±–æ—Ä–∞ –º–∞—Å—Å—ã"]})]})}),p.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"32px"},children:[p.jsx("button",{type:"button",className:"btn btn-secondary",onClick:i,style:{flex:"0 0 auto",width:"80px"},children:"–ù–∞–∑–∞–¥"}),p.jsx("button",{type:"submit",className:"btn btn-primary",disabled:!r,style:{flex:1},children:"–†–∞—Å—Å—á–∏—Ç–∞—Ç—å –∫–∞–ª–æ—Ä–∏–∏"})]})]})]})}function k(e){return{lose:"üìâ",maintain:"‚öñÔ∏è",gain:"üìà"}[e]||"üéØ"}const z=[{key:"welcome",title:"–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å"},{key:"gender-age",title:"–û—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ"},{key:"height-weight",title:"–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ç–µ–ª–∞"},{key:"activity",title:"–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å"},{key:"goal",title:"–¶–µ–ª—å"}];function B({onComplete:e}){const[t,i]=s.useState(0),[a,n]=s.useState({gender:null,age:null,height:null,weight:null,activity:null,goal:null}),r=s=>{const r={...a,...s};n(r),t<z.length-1?i(t+1):e(r)},l=()=>{t>0&&i(t-1)},o=(t+1)/z.length*100;return p.jsxs("div",{className:"fade-in",style:{minHeight:"100vh",paddingTop:"20px",paddingBottom:"20px"},children:[t>0&&p.jsx("div",{className:"progress-bar",children:p.jsx("div",{className:"progress-fill",style:{width:`${o}%`}})}),t>0&&p.jsx("div",{className:"step-indicator",children:z.slice(1).map(((e,s)=>p.jsxs("div",{className:"step "+(s+1<t?"completed":s+1===t?"active":""),children:[p.jsx("div",{className:"step-number",children:s+1}),p.jsx("div",{className:"step-title",children:e.title})]},e.key)))}),(()=>{switch(z[t].key){case"welcome":return p.jsx(u,{onNext:r});case"gender-age":return p.jsx(j,{data:a,onNext:r,onBack:l});case"height-weight":return p.jsx(f,{data:a,onNext:r,onBack:l});case"activity":return p.jsx(S,{data:a,onNext:r,onBack:l});case"goal":return p.jsx(C,{data:a,onNext:r,onBack:l});default:return null}})()]})}function D({calorieData:e,userProfile:s,onReset:t,onStartTracking:i}){const a=N(e.targetCalories);return p.jsxs("div",{className:"fade-in",style:{paddingTop:"20px",paddingBottom:"20px"},children:[p.jsxs("div",{className:"text-center mb-6",children:[p.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:"üéâ"}),p.jsx("h1",{style:{fontSize:"28px",fontWeight:"700",marginBottom:"8px"},children:"–í–∞—à–∞ –Ω–æ—Ä–º–∞ –∫–∞–ª–æ—Ä–∏–π"}),p.jsx("p",{style:{color:"var(--secondary-text-color)"},children:"–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π —Ä–∞—Å—á–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤–∞—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö"})]}),p.jsxs("div",{className:"result-card",children:[p.jsx("div",{className:"result-calories",children:e.targetCalories}),p.jsx("div",{className:"result-label",children:"–∫–∞–ª–æ—Ä–∏–π –≤ –¥–µ–Ω—å"}),p.jsx("div",{className:"result-goal",children:e.goal.label})]}),p.jsx("button",{className:"btn btn-primary",onClick:i,style:{marginBottom:"20px",background:"linear-gradient(135deg, var(--primary-color), var(--secondary-color))",fontSize:"18px",padding:"16px 24px"},children:"üì∑ –ù–∞—á–∞—Ç—å –¥–æ–±–∞–≤–ª—è—Ç—å –µ–¥—É"}),p.jsxs("div",{className:"card",children:[p.jsx("h3",{style:{marginBottom:"16px",fontSize:"18px"},children:"üìä –î–µ—Ç–∞–ª–∏ —Ä–∞—Å—á–µ—Ç–∞"}),p.jsxs("div",{style:{display:"grid",gap:"12px"},children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[p.jsx("span",{children:"–ë–∞–∑–æ–≤—ã–π –º–µ—Ç–∞–±–æ–ª–∏–∑–º (BMR)"}),p.jsxs("span",{style:{fontWeight:"600"},children:[e.bmr," –∫–∫–∞–ª"]})]}),p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[p.jsx("span",{children:"–û–±—â–∏–π —Ä–∞—Å—Ö–æ–¥ (TDEE)"}),p.jsxs("span",{style:{fontWeight:"600"},children:[e.tdee," –∫–∫–∞–ª"]})]}),p.jsx("div",{style:{height:"1px",background:"var(--border-color)",margin:"8px 0"}}),p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[p.jsx("span",{style:{fontWeight:"600"},children:"–¶–µ–ª–µ–≤—ã–µ –∫–∞–ª–æ—Ä–∏–∏"}),p.jsxs("span",{style:{fontWeight:"700",color:"var(--primary-color)"},children:[e.targetCalories," –∫–∫–∞–ª"]})]})]})]}),p.jsxs("div",{className:"card",children:[p.jsx("h3",{style:{marginBottom:"16px",fontSize:"18px"},children:"üçΩÔ∏è –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –º–∞–∫—Ä–æ–Ω—É—Ç—Ä–∏–µ–Ω—Ç—ã"}),p.jsxs("div",{style:{display:"grid",gap:"16px"},children:[p.jsxs("div",{children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[p.jsx("span",{children:"ü•© –ë–µ–ª–∫–∏ (30%)"}),p.jsxs("span",{style:{fontWeight:"600"},children:[a.protein.grams,"–≥"]})]}),p.jsx("div",{style:{width:"100%",height:"6px",background:"#FFE5E5",borderRadius:"3px"},children:p.jsx("div",{style:{width:"30%",height:"100%",background:"#FF6B6B",borderRadius:"3px"}})})]}),p.jsxs("div",{children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[p.jsx("span",{children:"üçû –£–≥–ª–µ–≤–æ–¥—ã (40%)"}),p.jsxs("span",{style:{fontWeight:"600"},children:[a.carbs.grams,"–≥"]})]}),p.jsx("div",{style:{width:"100%",height:"6px",background:"#E5F7FF",borderRadius:"3px"},children:p.jsx("div",{style:{width:"40%",height:"100%",background:"#4ECDC4",borderRadius:"3px"}})})]}),p.jsxs("div",{children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[p.jsx("span",{children:"ü•ë –ñ–∏—Ä—ã (30%)"}),p.jsxs("span",{style:{fontWeight:"600"},children:[a.fat.grams,"–≥"]})]}),p.jsx("div",{style:{width:"100%",height:"6px",background:"#FFF5E5",borderRadius:"3px"},children:p.jsx("div",{style:{width:"30%",height:"100%",background:"#FFB84D",borderRadius:"3px"}})})]})]})]}),p.jsxs("div",{className:"card",children:[p.jsx("h3",{style:{marginBottom:"16px",fontSize:"18px"},children:"üë§ –í–∞—à –ø—Ä–æ—Ñ–∏–ª—å"}),p.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",fontSize:"14px"},children:[p.jsxs("div",{children:[p.jsx("div",{style:{color:"var(--secondary-text-color)",marginBottom:"4px"},children:"–ü–æ–ª"}),p.jsx("div",{style:{fontWeight:"600"},children:"male"===s.gender?"üë® –ú—É–∂—Å–∫–æ–π":"üë© –ñ–µ–Ω—Å–∫–∏–π"})]}),p.jsxs("div",{children:[p.jsx("div",{style:{color:"var(--secondary-text-color)",marginBottom:"4px"},children:"–í–æ–∑—Ä–∞—Å—Ç"}),p.jsxs("div",{style:{fontWeight:"600"},children:[s.age," –ª–µ—Ç"]})]}),p.jsxs("div",{children:[p.jsx("div",{style:{color:"var(--secondary-text-color)",marginBottom:"4px"},children:"–†–æ—Å—Ç"}),p.jsxs("div",{style:{fontWeight:"600"},children:[s.height," —Å–º"]})]}),p.jsxs("div",{children:[p.jsx("div",{style:{color:"var(--secondary-text-color)",marginBottom:"4px"},children:"–í–µ—Å"}),p.jsxs("div",{style:{fontWeight:"600"},children:[s.weight," –∫–≥"]})]})]}),p.jsxs("div",{style:{marginTop:"12px"},children:[p.jsx("div",{style:{color:"var(--secondary-text-color)",marginBottom:"4px"},children:"–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å"}),p.jsx("div",{style:{fontWeight:"600"},children:e.activity.label})]})]}),p.jsxs("div",{className:"card",style:{backgroundColor:"rgba(0, 122, 255, 0.05)"},children:[p.jsx("h3",{style:{marginBottom:"16px",fontSize:"18px"},children:"üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏"}),p.jsxs("div",{style:{fontSize:"14px",lineHeight:"1.6"},children:["–°–Ω–∏–∂–µ–Ω–∏–µ –≤–µ—Å–∞"===e.goal.label&&p.jsxs("div",{children:["‚Ä¢ –°–æ–∑–¥–∞–π—Ç–µ –¥–µ—Ñ–∏—Ü–∏—Ç –∫–∞–ª–æ—Ä–∏–π, –Ω–æ –Ω–µ –º–µ–Ω–µ–µ 1200 –∫–∫–∞–ª –≤ –¥–µ–Ω—å",p.jsx("br",{}),"‚Ä¢ –£–≤–µ–ª–∏—á—å—Ç–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –±–µ–ª–∫–∞ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –º—ã—à–µ—á–Ω–æ–π –º–∞—Å—Å—ã",p.jsx("br",{}),"‚Ä¢ –î–æ–±–∞–≤—å—Ç–µ –∫–∞—Ä–¥–∏–æ –∏ —Å–∏–ª–æ–≤—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏",p.jsx("br",{}),"‚Ä¢ –ü–µ–π—Ç–µ –±–æ–ª—å—à–µ –≤–æ–¥—ã –∏ –≤—ã—Å—ã–ø–∞–π—Ç–µ—Å—å"]}),"–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤–µ—Å–∞"===e.goal.label&&p.jsxs("div",{children:["‚Ä¢ –°–ª–µ–¥–∏—Ç–µ –∑–∞ –±–∞–ª–∞–Ω—Å–æ–º –∫–∞–ª–æ—Ä–∏–π",p.jsx("br",{}),"‚Ä¢ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–π—Ç–µ —Ä–µ–≥—É–ª—è—Ä–Ω—É—é —Ñ–∏–∑–∏—á–µ—Å–∫—É—é –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å",p.jsx("br",{}),"‚Ä¢ –í–∫–ª—é—á–∞–π—Ç–µ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã –≤ —Ä–∞—Ü–∏–æ–Ω",p.jsx("br",{}),"‚Ä¢ –ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–π—Ç–µ –≤–µ—Å –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ"]}),"–ù–∞–±–æ—Ä –≤–µ—Å–∞"===e.goal.label&&p.jsxs("div",{children:["‚Ä¢ –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ—Ñ–∏—Ü–∏—Ç –∫–∞–ª–æ—Ä–∏–π –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ –ø—Ä–æ–¥—É–∫—Ç–∞–º–∏",p.jsx("br",{}),"‚Ä¢ –£–≤–µ–ª–∏—á—å—Ç–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –±–µ–ª–∫–∞ –¥–æ 2–≥ –Ω–∞ –∫–≥ –≤–µ—Å–∞",p.jsx("br",{}),"‚Ä¢ –î–æ–±–∞–≤—å—Ç–µ —Å–∏–ª–æ–≤—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –¥–ª—è —Ä–æ—Å—Ç–∞ –º—ã—à—Ü",p.jsx("br",{}),"‚Ä¢ –ï—à—å—Ç–µ —á–∞—Å—Ç–æ, –Ω–æ –Ω–µ–±–æ–ª—å—à–∏–º–∏ –ø–æ—Ä—Ü–∏—è–º–∏"]})]})]}),p.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"20px"},children:[p.jsx("button",{className:"btn btn-primary",onClick:()=>onNavigate("food"),style:{flex:1},children:"üì∑ –ù–∞—á–∞—Ç—å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ"}),p.jsx("button",{className:"btn btn-secondary",onClick:t,children:"üîÑ –ü–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å"})]})]})}const _={"–º–æ–ª–æ–∫–æ":{name:"–ú–æ–ª–æ–∫–æ 3.2%",category:"–ú–æ–ª–æ—á–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã",calories:60,protein:2.9,carbs:4.7,fat:3.2,fiber:0,emoji:"ü•õ"},"—Ç–≤–æ—Ä–æ–≥":{name:"–¢–≤–æ—Ä–æ–≥ –æ–±–µ–∑–∂–∏—Ä–µ–Ω–Ω—ã–π",category:"–ú–æ–ª–æ—á–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã",calories:72,protein:18,carbs:1.3,fat:.6,fiber:0,emoji:"üßÄ"},"–π–æ–≥—É—Ä—Ç":{name:"–ô–æ–≥—É—Ä—Ç –Ω–∞—Ç—É—Ä–∞–ª—å–Ω—ã–π",category:"–ú–æ–ª–æ—á–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã",calories:60,protein:4.3,carbs:6.2,fat:1.5,fiber:0,emoji:"ü•õ"},"—Å—ã—Ä":{name:"–°—ã—Ä —Ç–≤–µ—Ä–¥—ã–π",category:"–ú–æ–ª–æ—á–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã",calories:350,protein:25,carbs:0,fat:27,fiber:0,emoji:"üßÄ"},"–∫—É—Ä–∏–Ω–∞—è –≥—Ä—É–¥–∫–∞":{name:"–ö—É—Ä–∏–Ω–∞—è –≥—Ä—É–¥–∫–∞ –±–µ–∑ –∫–æ–∂–∏",category:"–ú—è—Å–æ –∏ –ø—Ç–∏—Ü–∞",calories:165,protein:31,carbs:0,fat:3.6,fiber:0,emoji:"üçó"},"–≥–æ–≤—è–¥–∏–Ω–∞":{name:"–ì–æ–≤—è–¥–∏–Ω–∞ –ø–æ—Å—Ç–Ω–∞—è",category:"–ú—è—Å–æ –∏ –ø—Ç–∏—Ü–∞",calories:187,protein:26,carbs:0,fat:9,fiber:0,emoji:"ü•©"},"–ª–æ—Å–æ—Å—å":{name:"–õ–æ—Å–æ—Å—å",category:"–†—ã–±–∞ –∏ –º–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç—ã",calories:208,protein:25,carbs:0,fat:12,fiber:0,emoji:"üêü"},"—Ç—É–Ω–µ—Ü":{name:"–¢—É–Ω–µ—Ü –≤ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–º —Å–æ–∫—É",category:"–†—ã–±–∞ –∏ –º–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç—ã",calories:132,protein:29,carbs:0,fat:1,fiber:0,emoji:"üêü"},"–æ–≤—Å—è–Ω–∫–∞":{name:"–û–≤—Å—è–Ω—ã–µ —Ö–ª–æ–ø—å—è",category:"–ó–ª–∞–∫–∏ –∏ –∫—Ä—É–ø—ã",calories:389,protein:16.9,carbs:66.3,fat:6.9,fiber:10.6,emoji:"ü•£"},"–≥—Ä–µ—á–∫–∞":{name:"–ì—Ä–µ—á–Ω–µ–≤–∞—è –∫—Ä—É–ø–∞",category:"–ó–ª–∞–∫–∏ –∏ –∫—Ä—É–ø—ã",calories:343,protein:13.3,carbs:62.1,fat:3.4,fiber:11.3,emoji:"üåæ"},"—Ä–∏—Å":{name:"–†–∏—Å –±–µ–ª—ã–π",category:"–ó–ª–∞–∫–∏ –∏ –∫—Ä—É–ø—ã",calories:365,protein:7,carbs:78,fat:1,fiber:3,emoji:"üçö"},"–∫–∏–Ω–æ–∞":{name:"–ö–∏–Ω–æ–∞",category:"–ó–ª–∞–∫–∏ –∏ –∫—Ä—É–ø—ã",calories:368,protein:14.1,carbs:57.2,fat:6.1,fiber:7,emoji:"üåæ"},"–±—Ä–æ–∫–∫–æ–ª–∏":{name:"–ë—Ä–æ–∫–∫–æ–ª–∏",category:"–û–≤–æ—â–∏",calories:34,protein:2.8,carbs:6.6,fat:.4,fiber:2.6,emoji:"ü•¶"},"–ø–æ–º–∏–¥–æ—Ä":{name:"–ü–æ–º–∏–¥–æ—Ä—ã",category:"–û–≤–æ—â–∏",calories:18,protein:.9,carbs:3.9,fat:.2,fiber:1.2,emoji:"üçÖ"},"–æ–≥—É—Ä–µ—Ü":{name:"–û–≥—É—Ä—Ü—ã",category:"–û–≤–æ—â–∏",calories:16,protein:.7,carbs:4.1,fat:.1,fiber:1,emoji:"ü•í"},"–º–æ—Ä–∫–æ–≤—å":{name:"–ú–æ—Ä–∫–æ–≤—å",category:"–û–≤–æ—â–∏",calories:41,protein:.9,carbs:9.6,fat:.2,fiber:2.8,emoji:"ü•ï"},"–∫–∞—Ä—Ç–æ—Ñ–µ–ª—å":{name:"–ö–∞—Ä—Ç–æ—Ñ–µ–ª—å",category:"–û–≤–æ—â–∏",calories:77,protein:2,carbs:17,fat:.1,fiber:2.2,emoji:"ü•î"},"—è–±–ª–æ–∫–æ":{name:"–Ø–±–ª–æ–∫–æ",category:"–§—Ä—É–∫—Ç—ã",calories:52,protein:.3,carbs:13.8,fat:.2,fiber:2.4,emoji:"üçé"},"–±–∞–Ω–∞–Ω":{name:"–ë–∞–Ω–∞–Ω",category:"–§—Ä—É–∫—Ç—ã",calories:89,protein:1.1,carbs:22.8,fat:.3,fiber:2.6,emoji:"üçå"},"–∞–ø–µ–ª—å—Å–∏–Ω":{name:"–ê–ø–µ–ª—å—Å–∏–Ω",category:"–§—Ä—É–∫—Ç—ã",calories:47,protein:.9,carbs:11.8,fat:.1,fiber:2.4,emoji:"üçä"},"–∞–≤–æ–∫–∞–¥–æ":{name:"–ê–≤–æ–∫–∞–¥–æ",category:"–§—Ä—É–∫—Ç—ã",calories:160,protein:2,carbs:8.5,fat:14.7,fiber:6.7,emoji:"ü•ë"},"–º–∏–Ω–¥–∞–ª—å":{name:"–ú–∏–Ω–¥–∞–ª—å",category:"–û—Ä–µ—Ö–∏ –∏ —Å–µ–º–µ–Ω–∞",calories:579,protein:21.2,carbs:21.6,fat:49.9,fiber:12.5,emoji:"ü•ú"},"–≥—Ä–µ—Ü–∫–∏–π –æ—Ä–µ—Ö":{name:"–ì—Ä–µ—Ü–∫–∏–π –æ—Ä–µ—Ö",category:"–û—Ä–µ—Ö–∏ –∏ —Å–µ–º–µ–Ω–∞",calories:654,protein:15.2,carbs:13.7,fat:65.2,fiber:6.7,emoji:"ü•ú"},"—Å–µ–º–µ–Ω–∞ —á–∏–∞":{name:"–°–µ–º–µ–Ω–∞ —á–∏–∞",category:"–û—Ä–µ—Ö–∏ –∏ —Å–µ–º–µ–Ω–∞",calories:486,protein:16.5,carbs:42.1,fat:30.7,fiber:34.4,emoji:"üå±"},"—è–π—Ü–æ":{name:"–ö—É—Ä–∏–Ω–æ–µ —è–π—Ü–æ",category:"–Ø–π—Ü–∞",calories:155,protein:13,carbs:1.1,fat:11,fiber:0,emoji:"ü•ö"},"—Ö–ª–µ–±":{name:"–•–ª–µ–± —Ü–µ–ª—å–Ω–æ–∑–µ—Ä–Ω–æ–≤–æ–π",category:"–•–ª–µ–± –∏ –≤—ã–ø–µ—á–∫–∞",calories:247,protein:13,carbs:41,fat:4.2,fiber:7,emoji:"üçû"},"–±–æ—Ä—â":{name:"–ë–æ—Ä—â —Å –º—è—Å–æ–º",category:"–ì–æ—Ç–æ–≤—ã–µ –±–ª—é–¥–∞",calories:49,protein:2.6,carbs:5.5,fat:1.8,fiber:1.8,emoji:"üç≤"},"–ø–ª–æ–≤":{name:"–ü–ª–æ–≤ —Å –º—è—Å–æ–º",category:"–ì–æ—Ç–æ–≤—ã–µ –±–ª—é–¥–∞",calories:218,protein:8.7,carbs:24.9,fat:9.8,fiber:.4,emoji:"üçö"},"—Å–∞–ª–∞—Ç —Ü–µ–∑–∞—Ä—å":{name:"–°–∞–ª–∞—Ç –¶–µ–∑–∞—Ä—å",category:"–ì–æ—Ç–æ–≤—ã–µ –±–ª—é–¥–∞",calories:190,protein:7,carbs:8,fat:15,fiber:2,emoji:"ü•ó"},"–ø–∏—Ü—Ü–∞ –º–∞—Ä–≥–∞—Ä–∏—Ç–∞":{name:"–ü–∏—Ü—Ü–∞ –ú–∞—Ä–≥–∞—Ä–∏—Ç–∞",category:"–ì–æ—Ç–æ–≤—ã–µ –±–ª—é–¥–∞",calories:266,protein:12,carbs:33,fat:10,fiber:2.3,emoji:"üçï"}};function F(e){const s=e.toLowerCase().trim();if(!s)return[];const t=[];for(const[i,a]of Object.entries(_)){const e=W(s,i,a.name.toLowerCase());e>0&&t.push({key:i,...a,score:e})}return t.sort(((e,s)=>s.score-e.score)).slice(0,10)}function W(e,s,t){let i=0;s===e&&(i+=100),s.startsWith(e)&&(i+=80),t.startsWith(e)&&(i+=70),s.includes(e)&&(i+=60),t.includes(e)&&(i+=50);const a=e.split(" "),n=s.split(" "),r=t.split(" ");return a.forEach((e=>{n.forEach((s=>{(s.includes(e)||e.includes(s))&&(i+=30)})),r.forEach((s=>{(s.includes(e)||e.includes(s))&&(i+=20)}))})),i}async function R(e){await new Promise((e=>setTimeout(e,1e3)));const s=function(e){const s=e.toLowerCase(),t=[];let i;if([/(\d+)\s*–≥\s+([\w\s]+)/g,/(\d+)\s*–≥—Ä\s+([\w\s]+)/g,/(\d+)\s*–≥—Ä–∞–º–º\s+([\w\s]+)/g,/([\w\s]+)\s+(\d+)\s*–≥/g,/([\w\s]+)\s+(\d+)\s*–≥—Ä/g].forEach((e=>{for(;null!==(i=e.exec(s));){const e=parseInt(i[1])||parseInt(i[2]),s=(i[2]||i[1]).trim();if(e&&e>0&&e<2e3){const i=F(s);i.length>0&&t.push({food:s,weight:e,confidence:.8,foodData:i[0]})}}})),0===t.length){s.split(/\s+/).forEach((e=>{if(e.length>2){const s=F(e);s.length>0&&t.push({food:e,weight:100,confidence:.6,foodData:s[0]})}}))}return t.slice(0,5)}(e);return s}function M(e){return{"—è–±–ª–æ–∫–æ":[{label:"–ú–∞–ª–µ–Ω—å–∫–æ–µ —è–±–ª–æ–∫–æ",weight:150},{label:"–°—Ä–µ–¥–Ω–µ–µ —è–±–ª–æ–∫–æ",weight:180},{label:"–ë–æ–ª—å—à–æ–µ —è–±–ª–æ–∫–æ",weight:220}],"–±–∞–Ω–∞–Ω":[{label:"–ú–∞–ª–µ–Ω—å–∫–∏–π –±–∞–Ω–∞–Ω",weight:100},{label:"–°—Ä–µ–¥–Ω–∏–π –±–∞–Ω–∞–Ω",weight:120},{label:"–ë–æ–ª—å—à–æ–π –±–∞–Ω–∞–Ω",weight:150}],"–∫—É—Ä–∏–Ω–∞—è –≥—Ä—É–¥–∫–∞":[{label:"–ü–æ—Ä—Ü–∏—è 100–≥",weight:100},{label:"–ü–æ—Ä—Ü–∏—è 150–≥",weight:150},{label:"–ü–æ—Ä—Ü–∏—è 200–≥",weight:200}],"—Ä–∏—Å":[{label:"–ì–∞—Ä–Ω–∏—Ä (—Å—É—Ö–æ–π)",weight:50},{label:"–ü–æ—Ä—Ü–∏—è (—Å—É—Ö–æ–π)",weight:80},{label:"–ë–æ–ª—å—à–∞—è –ø–æ—Ä—Ü–∏—è (—Å—É—Ö–æ–π)",weight:120}]}[e]||[{label:"50–≥",weight:50},{label:"100–≥",weight:100},{label:"150–≥",weight:150},{label:"200–≥",weight:200}]}function E({image:e,recognizedFood:t,onConfirm:i,onCancel:a,source:n,originalText:r}){const[l,o]=s.useState(t.map((e=>({...e,isEditing:!1})))),c=(e,s)=>{o((t=>t.map(((t,i)=>i===e?{...t,weight:parseFloat(s)||0}:t))))},d=l.reduce(((e,s)=>{const t=s.weight/100;return{calories:e.calories+s.foodData.calories*t,protein:e.protein+s.foodData.protein*t,carbs:e.carbs+s.foodData.carbs*t,fat:e.fat+s.foodData.fat*t}}),{calories:0,protein:0,carbs:0,fat:0});return p.jsxs("div",{className:"fade-in",children:[p.jsxs("div",{className:"card",style:{marginBottom:"20px"},children:[p.jsxs("h3",{style:{marginBottom:"16px",fontSize:"18px"},children:[(()=>{switch(n){case"photo":return"üì∑";case"text":return"‚úèÔ∏è";case"voice":return"üé§";default:return"üîç"}})()," –†–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è"]}),e&&p.jsx("img",{src:e,alt:"–†–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ",style:{width:"100%",maxWidth:"200px",height:"auto",borderRadius:"8px",marginBottom:"16px"}}),r&&p.jsxs("div",{style:{padding:"8px 12px",backgroundColor:"rgba(0, 122, 255, 0.1)",borderRadius:"6px",fontSize:"14px",marginBottom:"16px",fontStyle:"italic"},children:['"',r,'"']}),p.jsxs("div",{style:{fontSize:"14px",color:"var(--secondary-text-color)",marginBottom:"16px"},children:["–ù–∞–π–¥–µ–Ω–æ –ø—Ä–æ–¥—É–∫—Ç–æ–≤: ",l.length]}),0===l.length?p.jsx("div",{style:{textAlign:"center",padding:"20px",color:"var(--secondary-text-color)"},children:"–ü—Ä–æ–¥—É–∫—Ç—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–æ–π —Å–ø–æ—Å–æ–± –≤–≤–æ–¥–∞."}):p.jsx("div",{style:{display:"grid",gap:"16px"},children:l.map(((e,s)=>p.jsxs("div",{style:{border:"1px solid var(--border-color)",borderRadius:"12px",padding:"16px"},children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[p.jsx("span",{style:{fontSize:"24px"},children:e.foodData.emoji}),p.jsxs("div",{children:[p.jsx("div",{style:{fontWeight:"600"},children:e.foodData.name}),p.jsxs("div",{style:{fontSize:"12px",color:"var(--secondary-text-color)"},children:["–£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å: ",Math.round(100*e.confidence),"%"]})]})]}),p.jsxs("div",{style:{display:"flex",gap:"8px"},children:[p.jsx("button",{onClick:()=>(e=>{o((s=>s.map(((s,t)=>t===e?{...s,isEditing:!s.isEditing}:s))))})(s),style:{background:"none",border:"none",fontSize:"16px",cursor:"pointer",color:"var(--primary-color)"},children:"‚úèÔ∏è"}),p.jsx("button",{onClick:()=>(e=>{o((s=>s.filter(((s,t)=>t!==e))))})(s),style:{background:"none",border:"none",fontSize:"16px",cursor:"pointer",color:"var(--danger-color)"},children:"üóëÔ∏è"})]})]}),p.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr auto",gap:"12px",alignItems:"center"},children:[p.jsxs("div",{children:[p.jsx("label",{style:{fontSize:"14px",fontWeight:"600",marginBottom:"4px",display:"block"},children:"–í–µ—Å (–≥)"}),p.jsx("input",{type:"number",value:e.weight,onChange:e=>c(s,e.target.value),min:"1",max:"2000",style:{width:"100%",padding:"8px 12px",border:"1px solid var(--border-color)",borderRadius:"6px",fontSize:"14px"}})]}),p.jsxs("div",{style:{textAlign:"center",fontSize:"12px"},children:[p.jsxs("div",{style:{fontWeight:"600"},children:[Math.round(e.foodData.calories*(e.weight/100))," ","–∫–∫–∞–ª"]}),p.jsxs("div",{style:{color:"var(--secondary-text-color)"},children:[(e.foodData.protein*(e.weight/100)).toFixed(1),"–± /",(e.foodData.carbs*(e.weight/100)).toFixed(1),"—É /",(e.foodData.fat*(e.weight/100)).toFixed(1),"–∂"]})]})]}),e.isEditing&&p.jsxs("div",{style:{marginTop:"12px"},children:[p.jsx("div",{style:{fontSize:"12px",marginBottom:"6px",color:"var(--secondary-text-color)"},children:"–ë—ã—Å—Ç—Ä—ã–π –≤—ã–±–æ—Ä:"}),p.jsx("div",{style:{display:"flex",gap:"6px",flexWrap:"wrap"},children:M(e.foodData.key).map(((e,t)=>p.jsx("button",{onClick:()=>c(s,e.weight),style:{padding:"4px 8px",fontSize:"11px",background:"var(--border-color)",border:"none",borderRadius:"4px",cursor:"pointer"},children:e.label},t)))})]})]},s)))})]}),l.length>0&&p.jsxs("div",{className:"card",style:{marginBottom:"20px"},children:[p.jsx("h4",{style:{marginBottom:"12px",fontSize:"16px"},children:"üìä –ò—Ç–æ–≥–æ"}),p.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr",gap:"12px",textAlign:"center"},children:[p.jsxs("div",{children:[p.jsx("div",{style:{fontSize:"18px",fontWeight:"700",color:"var(--primary-color)"},children:Math.round(d.calories)}),p.jsx("div",{style:{fontSize:"12px",color:"var(--secondary-text-color)"},children:"–∫–∫–∞–ª"})]}),p.jsxs("div",{children:[p.jsxs("div",{style:{fontSize:"16px",fontWeight:"600"},children:[d.protein.toFixed(1),"–≥"]}),p.jsx("div",{style:{fontSize:"12px",color:"var(--secondary-text-color)"},children:"–±–µ–ª–∫–∏"})]}),p.jsxs("div",{children:[p.jsxs("div",{style:{fontSize:"16px",fontWeight:"600"},children:[d.carbs.toFixed(1),"–≥"]}),p.jsx("div",{style:{fontSize:"12px",color:"var(--secondary-text-color)"},children:"—É–≥–ª–µ–≤–æ–¥—ã"})]}),p.jsxs("div",{children:[p.jsxs("div",{style:{fontSize:"16px",fontWeight:"600"},children:[d.fat.toFixed(1),"–≥"]}),p.jsx("div",{style:{fontSize:"12px",color:"var(--secondary-text-color)"},children:"–∂–∏—Ä—ã"})]})]})]}),p.jsxs("div",{style:{display:"flex",gap:"12px"},children:[p.jsx("button",{className:"btn btn-secondary",onClick:a,style:{flex:"0 0 auto",width:"100px"},children:"–û—Ç–º–µ–Ω–∞"}),p.jsx("button",{className:"btn btn-primary",onClick:()=>i(l),disabled:0===l.length,style:{flex:1},children:"‚úÖ –î–æ–±–∞–≤–∏—Ç—å –≤ –¥–Ω–µ–≤–Ω–∏–∫"})]})]})}function T({onProcessingStart:e,onFoodRecognized:t}){const[i,a]=s.useState(null),[n,r]=s.useState(null),l=s.useRef(null),o=async s=>{const t=URL.createObjectURL(s);a(t),e();try{const e=await async function(){return await new Promise((e=>setTimeout(e,2e3))),[{food:"—è–±–ª–æ–∫–æ",confidence:.92,weight:180,boundingBox:{x:10,y:10,width:200,height:200}},{food:"–±–∞–Ω–∞–Ω",confidence:.87,weight:120,boundingBox:{x:250,y:50,width:150,height:180}}].map((e=>({...e,foodData:F(e.food)[0]})))}();r(e)}catch(i){console.error("–û—à–∏–±–∫–∞ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è:",i),alert("–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.")}},c=e=>{t(e),x()},d=()=>{x()},x=()=>{a(null),r(null),l.current&&(l.current.value="")};return n?p.jsx(E,{image:i,recognizedFood:n,onConfirm:c,onCancel:d,source:"photo"}):p.jsxs("div",{className:"card",children:[p.jsx("h3",{style:{marginBottom:"16px",fontSize:"18px"},children:"üì∑ –°—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—Ä—É–π—Ç–µ –µ–¥—É"}),i?p.jsxs("div",{style:{textAlign:"center"},children:[p.jsx("img",{src:i,alt:"–ó–∞—Ö–≤–∞—á–µ–Ω–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ",style:{width:"100%",maxWidth:"300px",height:"auto",borderRadius:"12px",marginBottom:"16px"}}),p.jsx("div",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"8px"},children:"–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ..."}),p.jsx("div",{style:{fontSize:"14px",color:"var(--secondary-text-color)"},children:"–ò—Å–ø–æ–ª—å–∑—É–µ–º –ò–ò –¥–ª—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è –ø—Ä–æ–¥—É–∫—Ç–æ–≤"})]}):p.jsxs("div",{children:[p.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",border:"2px dashed var(--border-color)",borderRadius:"12px",marginBottom:"16px"},children:[p.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:"üì∏"}),p.jsx("div",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"8px"},children:"–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–æ—Ç–æ –µ–¥—ã"}),p.jsx("div",{style:{fontSize:"14px",color:"var(--secondary-text-color)",marginBottom:"16px"},children:"–ú—ã —Ä–∞—Å–ø–æ–∑–Ω–∞–µ–º –ø—Ä–æ–¥—É–∫—Ç—ã –∏ –æ—Ü–µ–Ω–∏–º –∏—Ö –≤–µ—Å"}),p.jsx("input",{ref:l,type:"file",accept:"image/*",capture:"environment",onChange:e=>{const s=e.target.files[0];s&&o(s)},style:{display:"none"}}),p.jsx("button",{className:"btn btn-primary",onClick:()=>{var e;return null==(e=l.current)?void 0:e.click()},style:{fontSize:"16px",padding:"12px 24px"},children:"üì∑ –í—ã–±—Ä–∞—Ç—å —Ñ–æ—Ç–æ"})]}),p.jsxs("div",{style:{padding:"12px",backgroundColor:"rgba(0, 122, 255, 0.1)",borderRadius:"8px",fontSize:"14px"},children:[p.jsx("div",{style:{fontWeight:"600",marginBottom:"4px"},children:"üí° –°–æ–≤–µ—Ç—ã –¥–ª—è –ª—É—á—à–µ–≥–æ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è:"}),p.jsx("div",{children:"‚Ä¢ –°—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—Ä—É–π—Ç–µ –µ–¥—É —Å–≤–µ—Ä—Ö—É –∏–ª–∏ –ø–æ–¥ —É–≥–ª–æ–º"}),p.jsx("div",{children:"‚Ä¢ –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –µ–¥–∞ —Ö–æ—Ä–æ—à–æ –æ—Å–≤–µ—â–µ–Ω–∞"}),p.jsx("div",{children:"‚Ä¢ –ü–æ–º–µ—Å—Ç–∏—Ç–µ –µ–¥—É –Ω–∞ –∫–æ–Ω—Ç—Ä–∞—Å—Ç–Ω—ã–π —Ñ–æ–Ω"}),p.jsx("div",{children:"‚Ä¢ –ò–∑–±–µ–≥–∞–π—Ç–µ —Å–ª–∏—à–∫–æ–º —Å–ª–æ–∂–Ω—ã—Ö –∫–æ–º–ø–æ–∑–∏—Ü–∏–π"})]})]})]})}function P({onProcessingStart:e,onFoodRecognized:t}){const[i,a]=s.useState(""),[n,r]=s.useState(null),l=e=>{t(e),a(""),r(null)},o=()=>{r(null)};return n?p.jsx(E,{recognizedFood:n,onConfirm:l,onCancel:o,source:"text",originalText:i}):p.jsxs("div",{className:"card",children:[p.jsx("h3",{style:{marginBottom:"16px",fontSize:"18px"},children:"‚úèÔ∏è –û–ø–∏—à–∏—Ç–µ —á—Ç–æ —Å—ä–µ–ª–∏"}),p.jsxs("form",{onSubmit:async s=>{if(s.preventDefault(),i.trim()){e();try{const e=await R(i);r(e)}catch(t){console.error("–û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ç–µ–∫—Å—Ç–∞:",t),alert("–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ —Ç–µ–∫—Å—Ç–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.")}}},children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{className:"form-label",children:"–†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ –µ–¥–µ"}),p.jsx("textarea",{className:"form-input",value:i,onChange:e=>a(e.target.value),placeholder:"–ù–∞–ø—Ä–∏–º–µ—Ä: 200 –≥—Ä–∞–º–º –∫—É—Ä–∏–Ω–æ–π –≥—Ä—É–¥–∫–∏, 150 –≥—Ä–∞–º–º —Ä–∏—Å–∞, —Å–∞–ª–∞—Ç –∏–∑ –ø–æ–º–∏–¥–æ—Ä–æ–≤",rows:"4",style:{resize:"vertical",minHeight:"100px"}})]}),p.jsx("button",{type:"submit",className:"btn btn-primary",disabled:!i.trim(),style:{fontSize:"16px"},children:"üîç –ù–∞–π—Ç–∏ –ø—Ä–æ–¥—É–∫—Ç—ã"})]}),p.jsxs("div",{style:{marginTop:"16px",padding:"12px",backgroundColor:"rgba(0, 122, 255, 0.1)",borderRadius:"8px",fontSize:"14px"},children:[p.jsx("div",{style:{fontWeight:"600",marginBottom:"4px"},children:"üí° –ö–∞–∫ –ª—É—á—à–µ –æ–ø–∏—Å–∞—Ç—å:"}),p.jsx("div",{children:'‚Ä¢ –£–∫–∞–∑—ã–≤–∞–π—Ç–µ –≤–µ—Å: "200–≥ –∫—É—Ä–∏–Ω–æ–π –≥—Ä—É–¥–∫–∏"'}),p.jsx("div",{children:"‚Ä¢ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ—á–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è –ø—Ä–æ–¥—É–∫—Ç–æ–≤"}),p.jsx("div",{children:"‚Ä¢ –ú–æ–∂–Ω–æ –ø–∏—Å–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ–¥—É–∫—Ç–æ–≤"}),p.jsx("div",{children:'‚Ä¢ –ù–∞–ø—Ä–∏–º–µ—Ä: "100–≥ —Ç–≤–æ—Ä–æ–≥–∞, –±–∞–Ω–∞–Ω, 50–≥ –æ—Ä–µ—Ö–æ–≤"'})]})]})}function I({onProcessingStart:e,onFoodRecognized:t}){const[i,a]=s.useState(!1),[n,r]=s.useState(null),l=s.useRef(null),o=s.useRef([]),c=e=>{t(e),r(null)},d=()=>{r(null)};return n?p.jsx(E,{recognizedFood:n,onConfirm:c,onCancel:d,source:"voice"}):p.jsxs("div",{className:"card",children:[p.jsx("h3",{style:{marginBottom:"16px",fontSize:"18px"},children:"üé§ –†–∞—Å—Å–∫–∞–∂–∏—Ç–µ —á—Ç–æ —Å—ä–µ–ª–∏"}),p.jsx("div",{style:{textAlign:"center",padding:"20px"},children:i?p.jsxs("div",{children:[p.jsx("div",{style:{fontSize:"64px",marginBottom:"16px",animation:"pulse 1.5s ease-in-out infinite"},children:"üî¥"}),p.jsx("div",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"8px"},children:"–ò–¥–µ—Ç –∑–∞–ø–∏—Å—å..."}),p.jsx("div",{style:{fontSize:"14px",color:"var(--secondary-text-color)",marginBottom:"20px"},children:"–ì–æ–≤–æ—Ä–∏—Ç–µ —á–µ—Ç–∫–æ –∏ –Ω–µ —Ç–æ—Ä–æ–ø—è—Å—å"}),p.jsx("button",{className:"btn btn-secondary",onClick:()=>{l.current&&i&&(l.current.stop(),a(!1))},style:{fontSize:"16px",padding:"12px 24px"},children:"‚èπÔ∏è –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–ø–∏—Å—å"})]}):p.jsxs("div",{children:[p.jsx("div",{style:{fontSize:"64px",marginBottom:"16px"},children:"üé§"}),p.jsx("div",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"8px"},children:"–ù–∞–∂–º–∏—Ç–µ –∏ —Ä–∞—Å—Å–∫–∞–∂–∏—Ç–µ"}),p.jsx("div",{style:{fontSize:"14px",color:"var(--secondary-text-color)",marginBottom:"20px"},children:'–ù–∞–ø—Ä–∏–º–µ—Ä: "–°—ä–µ–ª 200 –≥—Ä–∞–º–º –∫—É—Ä–∏–Ω–æ–π –≥—Ä—É–¥–∫–∏ –∏ —Ä–∏—Å"'}),p.jsx("button",{className:"btn btn-primary",onClick:async()=>{try{const s=await navigator.mediaDevices.getUserMedia({audio:!0});l.current=new MediaRecorder(s),l.current.ondataavailable=e=>{o.current.push(e.data)},l.current.onstop=async()=>{new Blob(o.current,{type:"audio/wav"});o.current=[],e();try{const e=await async function(){return await new Promise((e=>setTimeout(e,2e3))),R("200 –≥—Ä–∞–º–º –∫—É—Ä–∏–Ω–æ–π –≥—Ä—É–¥–∫–∏ –∏ 150 –≥—Ä–∞–º–º —Ä–∏—Å–∞")}();r(e)}catch(t){console.error("–û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≥–æ–ª–æ—Å–∞:",t),alert("–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ –≤–≤–æ–¥–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.")}s.getTracks().forEach((e=>e.stop()))},l.current.start(),a(!0)}catch(s){console.error("–û—à–∏–±–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –º–∏–∫—Ä–æ—Ñ–æ–Ω—É:",s),alert("–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –º–∏–∫—Ä–æ—Ñ–æ–Ω—É. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è.")}},style:{fontSize:"16px",padding:"12px 24px"},children:"üé§ –ù–∞—á–∞—Ç—å –∑–∞–ø–∏—Å—å"})]})}),p.jsxs("div",{style:{padding:"12px",backgroundColor:"rgba(0, 122, 255, 0.1)",borderRadius:"8px",fontSize:"14px"},children:[p.jsx("div",{style:{fontWeight:"600",marginBottom:"4px"},children:"üí° –°–æ–≤–µ—Ç—ã –¥–ª—è –∑–∞–ø–∏—Å–∏:"}),p.jsx("div",{children:"‚Ä¢ –ì–æ–≤–æ—Ä–∏—Ç–µ –≤ —Ç–∏—Ö–æ–º –º–µ—Å—Ç–µ"}),p.jsx("div",{children:"‚Ä¢ –ß–µ—Ç–∫–æ –ø—Ä–æ–∏–∑–Ω–æ—Å–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏—è –ø—Ä–æ–¥—É–∫—Ç–æ–≤"}),p.jsx("div",{children:'‚Ä¢ –£–∫–∞–∑—ã–≤–∞–π—Ç–µ –≤–µ—Å: "–¥–≤–µ—Å—Ç–∏ –≥—Ä–∞–º–º –∫—É—Ä–∏—Ü—ã"'}),p.jsx("div",{children:"‚Ä¢ –ú–æ–∂–Ω–æ –ø–µ—Ä–µ—á–∏—Å–ª–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ–¥—É–∫—Ç–æ–≤"})]}),p.jsx("style",{jsx:!0,children:"\n        @keyframes pulse {\n          0% {\n            transform: scale(1);\n            opacity: 1;\n          }\n          50% {\n            transform: scale(1.1);\n            opacity: 0.8;\n          }\n          100% {\n            transform: scale(1);\n            opacity: 1;\n          }\n        }\n      "})]})}function A({onFoodAdd:e}){const[t,i]=s.useState(""),[a,n]=s.useState([]),[r,l]=s.useState(null),[o,c]=s.useState(100),[d,x]=s.useState(!1);s.useEffect((()=>{if(t.trim()){const e=F(t);n(e)}else n([])}),[t]);const h=(()=>{if(!r||!o)return null;const e=o/100;return{calories:Math.round(r.calories*e),protein:(r.protein*e).toFixed(1),carbs:(r.carbs*e).toFixed(1),fat:(r.fat*e).toFixed(1)}})(),m=r?M(r.key):[];return p.jsxs("div",{children:[p.jsxs("div",{className:"card",style:{marginBottom:"20px"},children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{className:"form-label",children:"–ù–∞–π—Ç–∏ –ø—Ä–æ–¥—É–∫—Ç"}),p.jsx("input",{type:"text",className:"form-input",value:t,onChange:e=>i(e.target.value),placeholder:"–ù–∞–ø—Ä–∏–º–µ—Ä: —è–±–ª–æ–∫–æ, –∫—É—Ä–∏–Ω–∞—è –≥—Ä—É–¥–∫–∞, —Ä–∏—Å..."})]}),a.length>0&&p.jsxs("div",{style:{marginTop:"16px"},children:[p.jsxs("div",{style:{fontSize:"14px",color:"var(--secondary-text-color)",marginBottom:"8px"},children:["–ù–∞–π–¥–µ–Ω–æ ",a.length," –ø—Ä–æ–¥—É–∫—Ç–æ–≤:"]}),p.jsx("div",{style:{display:"grid",gap:"8px",maxHeight:"300px",overflowY:"auto"},children:a.map((e=>p.jsx("div",{onClick:()=>(e=>{l(e),c(100)})(e),style:{padding:"12px",border:"2px solid var(--border-color)",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s ease",backgroundColor:(null==r?void 0:r.key)===e.key?"rgba(0, 122, 255, 0.1)":"transparent",borderColor:(null==r?void 0:r.key)===e.key?"var(--primary-color)":"var(--border-color)"},children:p.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[p.jsx("span",{style:{fontSize:"20px"},children:e.emoji}),p.jsxs("div",{children:[p.jsx("div",{style:{fontWeight:"600"},children:e.name}),p.jsx("div",{style:{fontSize:"12px",color:"var(--secondary-text-color)"},children:e.category})]})]}),p.jsxs("div",{style:{textAlign:"right",fontSize:"12px"},children:[p.jsxs("div",{style:{fontWeight:"600"},children:[e.calories," –∫–∫–∞–ª"]}),p.jsx("div",{style:{color:"var(--secondary-text-color)"},children:"–Ω–∞ 100–≥"})]})]})},e.key)))})]}),t&&0===a.length&&p.jsx("div",{style:{marginTop:"16px",padding:"12px",textAlign:"center",color:"var(--secondary-text-color)",backgroundColor:"rgba(255, 183, 77, 0.1)",borderRadius:"8px"},children:"–ü—Ä–æ–¥—É–∫—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∏–ª–∏ –¥–æ–±–∞–≤—å—Ç–µ —á–µ—Ä–µ–∑ —Ñ–æ—Ç–æ/—Ç–µ–∫—Å—Ç."})]}),r&&p.jsxs("div",{className:"card",style:{marginBottom:"20px"},children:[p.jsxs("h4",{style:{marginBottom:"16px",fontSize:"16px"},children:[r.emoji," ",r.name]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{className:"form-label",children:"–í–µ—Å (–≥—Ä–∞–º–º—ã)"}),p.jsx("input",{type:"number",className:"form-input",value:o,onChange:e=>c(e.target.value),min:"1",max:"2000",step:"1"})]}),p.jsxs("div",{style:{marginBottom:"16px"},children:[p.jsx("div",{style:{fontSize:"14px",marginBottom:"8px",color:"var(--secondary-text-color)"},children:"–ë—ã—Å—Ç—Ä—ã–π –≤—ã–±–æ—Ä:"}),p.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:m.map(((e,s)=>p.jsx("button",{className:"btn btn-secondary",onClick:()=>c(e.weight),style:{fontSize:"12px",padding:"6px 12px",minHeight:"auto"},children:e.label},s)))})]}),h&&p.jsxs("div",{style:{padding:"12px",backgroundColor:"rgba(52, 199, 89, 0.1)",borderRadius:"8px",marginBottom:"16px"},children:[p.jsxs("div",{style:{fontSize:"14px",fontWeight:"600",marginBottom:"8px"},children:["–ù–∞ ",o,"–≥:"]}),p.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr",gap:"8px",fontSize:"12px"},children:[p.jsxs("div",{style:{textAlign:"center"},children:[p.jsx("div",{style:{fontWeight:"600"},children:h.calories}),p.jsx("div",{style:{color:"var(--secondary-text-color)"},children:"–∫–∫–∞–ª"})]}),p.jsxs("div",{style:{textAlign:"center"},children:[p.jsxs("div",{style:{fontWeight:"600"},children:[h.protein,"–≥"]}),p.jsx("div",{style:{color:"var(--secondary-text-color)"},children:"–±–µ–ª–∫–∏"})]}),p.jsxs("div",{style:{textAlign:"center"},children:[p.jsxs("div",{style:{fontWeight:"600"},children:[h.carbs,"–≥"]}),p.jsx("div",{style:{color:"var(--secondary-text-color)"},children:"—É–≥–ª–µ–≤–æ–¥—ã"})]}),p.jsxs("div",{style:{textAlign:"center"},children:[p.jsxs("div",{style:{fontWeight:"600"},children:[h.fat,"–≥"]}),p.jsx("div",{style:{color:"var(--secondary-text-color)"},children:"–∂–∏—Ä—ã"})]})]})]}),p.jsx("button",{className:"btn btn-primary",onClick:()=>{if(!r||!o)return;x(!0);const s={food:r.key,weight:parseFloat(o),confidence:1,foodData:r};setTimeout((()=>{e([s]),i(""),l(null),c(100),x(!1)}),300)},disabled:!o||o<=0||d,style:{fontSize:"16px"},children:d?"‚è≥ –î–æ–±–∞–≤–ª—è–µ–º...":"‚úÖ –î–æ–±–∞–≤–∏—Ç—å –≤ –¥–Ω–µ–≤–Ω–∏–∫"})]})]})}function O({onFoodAdd:e}){const[t,i]=s.useState("search"),[a,n]=s.useState(!1),r=()=>{n(!0)},l=s=>{e(s),n(!1)};return p.jsxs("div",{className:"fade-in",children:[p.jsxs("div",{className:"card",style:{marginBottom:"20px"},children:[p.jsx("h3",{style:{marginBottom:"16px",fontSize:"18px"},children:"–ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –µ–¥—É?"}),p.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[p.jsx("button",{className:"btn "+("photo"===t?"btn-primary":"btn-secondary"),onClick:()=>i("photo"),style:{padding:"12px",fontSize:"14px"},disabled:a,children:"üì∑ –°—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—Ä–æ–≤–∞—Ç—å"}),p.jsx("button",{className:"btn "+("voice"===t?"btn-primary":"btn-secondary"),onClick:()=>i("voice"),style:{padding:"12px",fontSize:"14px"},disabled:a,children:"üé§ –ì–æ–ª–æ—Å–æ–º"}),p.jsx("button",{className:"btn "+("text"===t?"btn-primary":"btn-secondary"),onClick:()=>i("text"),style:{padding:"12px",fontSize:"14px"},disabled:a,children:"‚úèÔ∏è –ù–∞–ø–∏—Å–∞—Ç—å"}),p.jsx("button",{className:"btn "+("search"===t?"btn-primary":"btn-secondary"),onClick:()=>i("search"),style:{padding:"12px",fontSize:"14px"},disabled:a,children:"üîç –ù–∞–π—Ç–∏"})]})]}),a&&p.jsxs("div",{className:"card",style:{textAlign:"center",marginBottom:"20px",backgroundColor:"rgba(0, 122, 255, 0.1)"},children:[p.jsx("div",{style:{fontSize:"32px",marginBottom:"8px"},children:"‚è≥"}),p.jsx("div",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"4px"},children:"–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º..."}),p.jsx("div",{style:{fontSize:"14px",color:"var(--secondary-text-color)"},children:"–≠—Ç–æ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ–∫—É–Ω–¥"})]}),!a&&p.jsxs("div",{children:["photo"===t&&p.jsx(T,{onProcessingStart:r,onFoodRecognized:l}),"text"===t&&p.jsx(P,{onProcessingStart:r,onFoodRecognized:l}),"voice"===t&&p.jsx(I,{onProcessingStart:r,onFoodRecognized:l}),"search"===t&&p.jsx(A,{onFoodAdd:e})]})]})}function $({foodEntries:e,onEdit:t,onDelete:i,totals:a}){const[n,r]=s.useState(null),[l,o]=s.useState(""),c=()=>{r(null),o("")};return 0===e.length?p.jsxs("div",{className:"card",style:{textAlign:"center",padding:"40px 20px"},children:[p.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:"üçΩÔ∏è"}),p.jsx("div",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"8px"},children:"–î–Ω–µ–≤–Ω–∏–∫ –ø—É—Å—Ç"}),p.jsx("div",{style:{fontSize:"14px",color:"var(--secondary-text-color)"},children:"–î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–≤—ã–π –ø—Ä–æ–¥—É–∫—Ç, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø–∏—Ç–∞–Ω–∏—è"})]}):p.jsxs("div",{children:[p.jsxs("div",{className:"card",style:{marginBottom:"20px"},children:[p.jsx("h3",{style:{marginBottom:"16px",fontSize:"18px"},children:"üìä –°—ä–µ–¥–µ–Ω–æ —Å–µ–≥–æ–¥–Ω—è"}),p.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr",gap:"12px",textAlign:"center",padding:"16px",backgroundColor:"rgba(52, 199, 89, 0.1)",borderRadius:"8px"},children:[p.jsxs("div",{children:[p.jsx("div",{style:{fontSize:"20px",fontWeight:"700",color:"var(--primary-color)"},children:Math.round(a.calories)}),p.jsx("div",{style:{fontSize:"12px",color:"var(--secondary-text-color)"},children:"–∫–∫–∞–ª"})]}),p.jsxs("div",{children:[p.jsxs("div",{style:{fontSize:"16px",fontWeight:"600"},children:[a.protein.toFixed(1),"–≥"]}),p.jsx("div",{style:{fontSize:"12px",color:"var(--secondary-text-color)"},children:"–±–µ–ª–∫–∏"})]}),p.jsxs("div",{children:[p.jsxs("div",{style:{fontSize:"16px",fontWeight:"600"},children:[a.carbs.toFixed(1),"–≥"]}),p.jsx("div",{style:{fontSize:"12px",color:"var(--secondary-text-color)"},children:"—É–≥–ª–µ–≤–æ–¥—ã"})]}),p.jsxs("div",{children:[p.jsxs("div",{style:{fontSize:"16px",fontWeight:"600"},children:[a.fat.toFixed(1),"–≥"]}),p.jsx("div",{style:{fontSize:"12px",color:"var(--secondary-text-color)"},children:"–∂–∏—Ä—ã"})]})]})]}),p.jsx("div",{style:{display:"grid",gap:"12px"},children:e.map((e=>{const s=(e=>{const s=e.weight/100;return{calories:Math.round(e.foodData.calories*s),protein:(e.foodData.protein*s).toFixed(1),carbs:(e.foodData.carbs*s).toFixed(1),fat:(e.foodData.fat*s).toFixed(1)}})(e),a=n===e.id;return p.jsxs("div",{className:"card",style:{padding:"16px"},children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[p.jsx("span",{style:{fontSize:"24px"},children:e.foodData.emoji}),p.jsxs("div",{children:[p.jsx("div",{style:{fontWeight:"600",fontSize:"16px"},children:e.foodData.name}),p.jsxs("div",{style:{fontSize:"12px",color:"var(--secondary-text-color)"},children:[(d=e.timestamp,new Date(d).toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"}))," ‚Ä¢ ",e.foodData.category]})]})]}),p.jsxs("div",{style:{display:"flex",gap:"8px"},children:[p.jsx("button",{onClick:()=>a?(e=>{const s=parseFloat(l);s&&s>0&&t(e,{weight:s}),r(null),o("")})(e.id):(e=>{r(e.id),o(e.weight.toString())})(e),style:{background:"none",border:"none",fontSize:"16px",cursor:"pointer",color:"var(--primary-color)"},children:a?"‚úÖ":"‚úèÔ∏è"}),a&&p.jsx("button",{onClick:c,style:{background:"none",border:"none",fontSize:"16px",cursor:"pointer",color:"var(--secondary-text-color)"},children:"‚ùå"}),p.jsx("button",{onClick:()=>i(e.id),style:{background:"none",border:"none",fontSize:"16px",cursor:"pointer",color:"var(--danger-color)"},children:"üóëÔ∏è"})]})]}),p.jsxs("div",{style:{display:"grid",gridTemplateColumns:"auto 1fr auto",gap:"12px",alignItems:"center"},children:[p.jsx("div",{style:{fontSize:"14px",fontWeight:"600"},children:"–í–µ—Å:"}),a?p.jsx("input",{type:"number",value:l,onChange:e=>o(e.target.value),min:"1",max:"2000",style:{padding:"6px 10px",border:"1px solid var(--primary-color)",borderRadius:"6px",fontSize:"14px",width:"80px"},autoFocus:!0}):p.jsxs("div",{style:{fontSize:"14px"},children:[e.weight,"–≥"]}),p.jsxs("div",{style:{fontSize:"14px",fontWeight:"600",color:"var(--primary-color)"},children:[s.calories," –∫–∫–∞–ª"]})]}),p.jsx("div",{style:{marginTop:"12px",padding:"8px 12px",backgroundColor:"rgba(0, 122, 255, 0.05)",borderRadius:"6px",fontSize:"12px"},children:p.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"8px",textAlign:"center"},children:[p.jsxs("div",{children:[p.jsxs("span",{style:{fontWeight:"600"},children:[s.protein,"–≥"]}),p.jsx("div",{style:{color:"var(--secondary-text-color)"},children:"–±–µ–ª–∫–∏"})]}),p.jsxs("div",{children:[p.jsxs("span",{style:{fontWeight:"600"},children:[s.carbs,"–≥"]}),p.jsx("div",{style:{color:"var(--secondary-text-color)"},children:"—É–≥–ª–µ–≤–æ–¥—ã"})]}),p.jsxs("div",{children:[p.jsxs("span",{style:{fontWeight:"600"},children:[s.fat,"–≥"]}),p.jsx("div",{style:{color:"var(--secondary-text-color)"},children:"–∂–∏—Ä—ã"})]})]})})]},e.id);var d}))}),e.length>0&&p.jsx("div",{style:{marginTop:"20px",textAlign:"center"},children:p.jsx("button",{className:"btn btn-secondary",onClick:()=>{window.confirm("–û—á–∏—Å—Ç–∏—Ç—å –≤–µ—Å—å –¥–Ω–µ–≤–Ω–∏–∫ –ø–∏—Ç–∞–Ω–∏—è?")&&e.forEach((e=>i(e.id)))},style:{fontSize:"14px",padding:"8px 16px"},children:"üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å –¥–Ω–µ–≤–Ω–∏–∫"})})]})}function L({totals:e,targetCalories:s,userProfile:t}){const i=N(s),a=e.calories/s*100,n=e.protein/i.protein.grams*100,r=e.carbs/i.carbs.grams*100,l=e.fat/i.fat.grams*100;return p.jsxs("div",{className:"card",style:{marginBottom:"20px"},children:[p.jsx("h3",{style:{marginBottom:"16px",fontSize:"18px"},children:"üìä –ü—Ä–æ–≥—Ä–µ—Å—Å –¥–Ω—è"}),p.jsxs("div",{style:{marginBottom:"20px"},children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[p.jsx("span",{style:{fontSize:"16px",fontWeight:"600"},children:"–ö–∞–ª–æ—Ä–∏–∏"}),p.jsxs("span",{style:{fontSize:"16px",fontWeight:"600"},children:[Math.round(e.calories)," / ",s," –∫–∫–∞–ª"]})]}),p.jsx("div",{style:{width:"100%",height:"12px",background:"var(--border-color)",borderRadius:"6px",overflow:"hidden"},children:p.jsx("div",{style:{width:`${Math.min(a,100)}%`,height:"100%",background:(o=a,o<50?"#FF6B6B":o<90?"#FFB84D":o<=110?"#4ECDC4":"#FF6B6B"),borderRadius:"6px",transition:"width 0.3s ease"}})}),p.jsx("div",{style:{fontSize:"14px",color:"var(--secondary-text-color)",marginTop:"4px"},children:a>100?`–ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ –Ω–∞ ${Math.round(e.calories-s)} –∫–∫–∞–ª`:`–û—Å—Ç–∞–ª–æ—Å—å ${Math.round(s-e.calories)} –∫–∫–∞–ª`})]}),p.jsxs("div",{style:{display:"grid",gap:"16px"},children:[p.jsxs("div",{children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"6px"},children:[p.jsx("span",{style:{fontSize:"14px"},children:"ü•© –ë–µ–ª–∫–∏"}),p.jsxs("span",{style:{fontSize:"14px",fontWeight:"600"},children:[e.protein.toFixed(1),"–≥ / ",i.protein.grams,"–≥"]})]}),p.jsx("div",{style:{width:"100%",height:"6px",background:"#FFE5E5",borderRadius:"3px",overflow:"hidden"},children:p.jsx("div",{style:{width:`${Math.min(n,100)}%`,height:"100%",background:"#FF6B6B",borderRadius:"3px",transition:"width 0.3s ease"}})})]}),p.jsxs("div",{children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"6px"},children:[p.jsx("span",{style:{fontSize:"14px"},children:"üçû –£–≥–ª–µ–≤–æ–¥—ã"}),p.jsxs("span",{style:{fontSize:"14px",fontWeight:"600"},children:[e.carbs.toFixed(1),"–≥ / ",i.carbs.grams,"–≥"]})]}),p.jsx("div",{style:{width:"100%",height:"6px",background:"#E5F7FF",borderRadius:"3px",overflow:"hidden"},children:p.jsx("div",{style:{width:`${Math.min(r,100)}%`,height:"100%",background:"#4ECDC4",borderRadius:"3px",transition:"width 0.3s ease"}})})]}),p.jsxs("div",{children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"6px"},children:[p.jsx("span",{style:{fontSize:"14px"},children:"ü•ë –ñ–∏—Ä—ã"}),p.jsxs("span",{style:{fontSize:"14px",fontWeight:"600"},children:[e.fat.toFixed(1),"–≥ / ",i.fat.grams,"–≥"]})]}),p.jsx("div",{style:{width:"100%",height:"6px",background:"#FFF5E5",borderRadius:"3px",overflow:"hidden"},children:p.jsx("div",{style:{width:`${Math.min(l,100)}%`,height:"100%",background:"#FFB84D",borderRadius:"3px",transition:"width 0.3s ease"}})})]})]}),p.jsxs("div",{style:{marginTop:"16px",padding:"12px",background:"rgba(0, 122, 255, 0.1)",borderRadius:"8px",fontSize:"14px",textAlign:"center"},children:[a<50&&"üåü –û—Ç–ª–∏—á–Ω–æ–µ –Ω–∞—á–∞–ª–æ! –ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ –¥–æ–±–∞–≤–ª—è—Ç—å –µ–¥—É",a>=50&&a<90&&"üëç –•–æ—Ä–æ—à–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å! –í—ã –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø—É—Ç–∏",a>=90&&a<=110&&"üéØ –û—Ç–ª–∏—á–Ω–æ! –í—ã –¥–æ—Å—Ç–∏–≥–ª–∏ —Å–≤–æ–µ–π —Ü–µ–ª–∏",a>110&&"‚ö†Ô∏è –ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ –∫–∞–ª–æ—Ä–∏–π. –í–æ–∑–º–æ–∂–Ω–æ, —Å—Ç–æ–∏—Ç –±—ã—Ç—å –±–æ–ª–µ–µ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω—ã–º"]})]});var o}function U({userProfile:e,calorieData:t,onBack:i}){const[a,n]=s.useState([]),[r,l]=s.useState("input"),o=a.reduce(((e,s)=>{const t=s.weight/100;return{calories:e.calories+s.foodData.calories*t,protein:e.protein+s.foodData.protein*t,carbs:e.carbs+s.foodData.carbs*t,fat:e.fat+s.foodData.fat*t,fiber:e.fiber+s.foodData.fiber*t}}),{calories:0,protein:0,carbs:0,fat:0,fiber:0});return p.jsxs("div",{className:"fade-in",style:{paddingTop:"20px",paddingBottom:"20px"},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"20px"},children:[p.jsx("button",{onClick:i,style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",marginRight:"12px",color:"var(--text-color)"},children:"‚Üê"}),p.jsx("h1",{style:{fontSize:"24px",fontWeight:"700"},children:"–¢—Ä–µ–∫–µ—Ä –ø–∏—Ç–∞–Ω–∏—è"})]}),p.jsx(L,{totals:o,targetCalories:t.targetCalories,userProfile:e}),p.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"20px",background:"var(--border-color)",padding:"4px",borderRadius:"12px"},children:[p.jsx("button",{className:"btn "+("input"===r?"btn-primary":"btn-secondary"),onClick:()=>l("input"),style:{flex:1,fontSize:"14px",padding:"8px 16px",borderRadius:"8px"},children:"üì∑ –î–æ–±–∞–≤–∏—Ç—å –µ–¥—É"}),p.jsxs("button",{className:"btn "+("list"===r?"btn-primary":"btn-secondary"),onClick:()=>l("list"),style:{flex:1,fontSize:"14px",padding:"8px 16px",borderRadius:"8px"},children:["üìã –î–Ω–µ–≤–Ω–∏–∫ (",a.length,")"]})]}),"input"===r?p.jsx(O,{onFoodAdd:e=>{const s=e.map((e=>({...e,id:Date.now()+Math.random(),timestamp:new Date})));n((e=>[...e,...s])),l("list")}}):p.jsx($,{foodEntries:a,onEdit:(e,s)=>{n((t=>t.map((t=>t.id===e?{...t,...s}:t))))},onDelete:e=>{n((s=>s.filter((s=>s.id!==e))))},totals:o})]})}const Y=({foodEntries:e,calorieData:s,userProfile:t,onEdit:i,onDelete:a,onNavigate:n})=>{const r=(new Date).toDateString(),l=e.filter((e=>e.date===r)),o=l.reduce(((e,s)=>({calories:e.calories+(s.calories||0),protein:e.protein+(s.protein||0),carbs:e.carbs+(s.carbs||0),fat:e.fat+(s.fat||0)})),{calories:0,protein:0,carbs:0,fat:0});return p.jsxs("div",{className:"day-summary",children:[p.jsxs("div",{className:"day-summary__header",children:[p.jsx("h1",{className:"day-summary__title",children:"üìä –î–Ω–µ–≤–Ω–∏–∫ –ø–∏—Ç–∞–Ω–∏—è"}),p.jsx("p",{className:"day-summary__date",children:(c=new Date,new Intl.DateTimeFormat("ru-RU",{weekday:"long",day:"numeric",month:"long"}).format(c))})]}),p.jsx("div",{className:"day-summary__progress",children:p.jsx(L,{consumed:o,targets:s,showDetails:!0})}),p.jsxs("div",{className:"day-summary__actions",children:[p.jsxs("button",{className:"day-summary__action-btn day-summary__action-btn--primary",onClick:()=>n("food"),children:[p.jsx("span",{className:"action-icon",children:"üì∑"}),"–î–æ–±–∞–≤–∏—Ç—å –µ–¥—É"]}),p.jsxs("button",{className:"day-summary__action-btn",onClick:()=>n("assistant"),children:[p.jsx("span",{className:"action-icon",children:"ü§ñ"}),"–ü–æ–ª—É—á–∏—Ç—å —Å–æ–≤–µ—Ç"]})]}),p.jsx("div",{className:"day-summary__content",children:l.length>0?p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"day-summary__section-header",children:[p.jsx("h2",{children:"–ü—Ä–∏–µ–º—ã –ø–∏—â–∏ —Å–µ–≥–æ–¥–Ω—è"}),p.jsxs("span",{className:"day-summary__count",children:[l.length," ",1===l.length?"–ø—Ä–∏–µ–º":"–ø—Ä–∏–µ–º–æ–≤"]})]}),p.jsx($,{entries:l,onEdit:i,onDelete:a,showDate:!1})]}):p.jsx("div",{className:"day-summary__empty",children:p.jsxs("div",{className:"empty-state",children:[p.jsx("div",{className:"empty-state__icon",children:"üçΩÔ∏è"}),p.jsx("h3",{className:"empty-state__title",children:"–ï—â–µ –Ω–µ—Ç –∑–∞–ø–∏—Å–µ–π –Ω–∞ —Å–µ–≥–æ–¥–Ω—è"}),p.jsx("p",{className:"empty-state__description",children:"–î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–≤—ã–π –ø—Ä–∏–µ–º –ø–∏—â–∏, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –ø–∏—Ç–∞–Ω–∏–µ"}),p.jsx("button",{className:"empty-state__button",onClick:()=>n("food"),children:"üì∑ –î–æ–±–∞–≤–∏—Ç—å –µ–¥—É"})]})})}),l.length>0&&p.jsx("div",{className:"day-summary__stats",children:p.jsxs("div",{className:"stats-grid",children:[p.jsxs("div",{className:"stat-item",children:[p.jsx("span",{className:"stat-label",children:"–ö–∞–ª–æ—Ä–∏–∏"}),p.jsxs("span",{className:"stat-value",children:[Math.round(o.calories)," /"," ",s.dailyCalories]}),p.jsx("span",{className:"stat-unit",children:"–∫–∫–∞–ª"})]}),p.jsxs("div",{className:"stat-item",children:[p.jsx("span",{className:"stat-label",children:"–ë–µ–ª–∫–∏"}),p.jsxs("span",{className:"stat-value",children:[Math.round(o.protein)," /"," ",Math.round(s.protein)]}),p.jsx("span",{className:"stat-unit",children:"–≥"})]}),p.jsxs("div",{className:"stat-item",children:[p.jsx("span",{className:"stat-label",children:"–£–≥–ª–µ–≤–æ–¥—ã"}),p.jsxs("span",{className:"stat-value",children:[Math.round(o.carbs)," /"," ",Math.round(s.carbs)]}),p.jsx("span",{className:"stat-unit",children:"–≥"})]}),p.jsxs("div",{className:"stat-item",children:[p.jsx("span",{className:"stat-label",children:"–ñ–∏—Ä—ã"}),p.jsxs("span",{className:"stat-value",children:[Math.round(o.fat)," / ",Math.round(s.fat)]}),p.jsx("span",{className:"stat-unit",children:"–≥"})]})]})})]});var c},H=({foodEntries:e,calorieData:t,userProfile:i,isSubscribed:a,onNavigate:n})=>{const[r,l]=s.useState(null),[o,c]=s.useState(!1),[d,x]=s.useState([]),[h,m]=s.useState(""),g=(new Date).toDateString(),u=e.filter((e=>e.date===g)).reduce(((e,s)=>({calories:e.calories+(s.calories||0),protein:e.protein+(s.protein||0),carbs:e.carbs+(s.carbs||0),fat:e.fat+(s.fat||0)})),{calories:0,protein:0,carbs:0,fat:0});s.useEffect((()=>{j()}),[e,t]);const j=()=>{c(!0),setTimeout((()=>{const e=t.dailyCalories-u.calories,s=u.protein/t.protein*100,i=u.carbs/t.carbs*100,a=u.fat/t.fat*100;let n=[],r="good";e>500?(n.push({type:"warning",text:`–£ –≤–∞—Å –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–π –¥–µ—Ñ–∏—Ü–∏—Ç –∫–∞–ª–æ—Ä–∏–π (${Math.round(e)} –∫–∫–∞–ª). –î–æ–±–∞–≤—å—Ç–µ –ø–æ–ª–µ–∑–Ω—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤.`,action:"–î–æ–±–∞–≤–∏—Ç—å –∫–∞–ª–æ—Ä–∏–∏"}),r="warning"):e<-300&&(n.push({type:"error",text:`–ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ –¥–Ω–µ–≤–Ω–æ–π –Ω–æ—Ä–º—ã –Ω–∞ ${Math.abs(Math.round(e))} –∫–∫–∞–ª. –ë—É–¥—å—Ç–µ –æ—Å—Ç–æ—Ä–æ–∂–Ω–µ–µ —Å –ø–æ—Ä—Ü–∏—è–º–∏.`,action:"–ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Ä—Ü–∏–∏"}),r="error"),s<80&&n.push({type:"info",text:"–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±–µ–ª–∫–∞ –≤ —Ä–∞—Ü–∏–æ–Ω–µ. –î–æ–±–∞–≤—å—Ç–µ –º—è—Å–æ, —Ä—ã–±—É, —è–π—Ü–∞ –∏–ª–∏ –±–æ–±–æ–≤—ã–µ.",action:"–î–æ–±–∞–≤–∏—Ç—å –±–µ–ª–æ–∫"}),i>120&&n.push({type:"warning",text:"–ú–Ω–æ–≥–æ —É–≥–ª–µ–≤–æ–¥–æ–≤. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞–º–µ–Ω–∏—Ç—å –ø—Ä–æ—Å—Ç—ã–µ —É–≥–ª–µ–≤–æ–¥—ã –Ω–∞ —Å–ª–æ–∂–Ω—ã–µ.",action:"–ó–∞–º–µ–Ω–∏—Ç—å —É–≥–ª–µ–≤–æ–¥—ã"}),0===n.length&&n.push({type:"success",text:"–û—Ç–ª–∏—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞! –í–∞—à —Ä–∞—Ü–∏–æ–Ω —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ü–µ–ª—è–º.",action:"–ü—Ä–æ–¥–æ–ª–∂–∞—Ç—å –≤ —Ç–æ–º –∂–µ –¥—É—Ö–µ"}),l({status:r,calorieDeficit:e,macroBalance:{proteinPercent:s,carbsPercent:i,fatPercent:a},recommendations:n,tips:f()}),c(!1)}),1500)},f=()=>["üíß –ù–µ –∑–∞–±—ã–≤–∞–π—Ç–µ –ø–∏—Ç—å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≤–æ–¥—ã - 30-35 –º–ª –Ω–∞ –∫–≥ –≤–µ—Å–∞ —Ç–µ–ª–∞","ü•ó –í–∫–ª—é—á–∞–π—Ç–µ –æ–≤–æ—â–∏ –≤ –∫–∞–∂–¥—ã–π –ø—Ä–∏–µ–º –ø–∏—â–∏ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–ª–µ—Ç—á–∞—Ç–∫–∏","‚è∞ –°—Ç–∞—Ä–∞–π—Ç–µ—Å—å –µ—Å—Ç—å —Ä–µ–≥—É–ª—è—Ä–Ω–æ, –∫–∞–∂–¥—ã–µ 3-4 —á–∞—Å–∞","üèÉ‚Äç‚ôÇÔ∏è –î–æ–±–∞–≤—å—Ç–µ —Ñ–∏–∑–∏—á–µ—Å–∫—É—é –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–ª—è –ª—É—á—à–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤","üò¥ –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π —Å–æ–Ω –≤–ª–∏—è–µ—Ç –Ω–∞ –º–µ—Ç–∞–±–æ–ª–∏–∑–º –∏ –∞–ø–ø–µ—Ç–∏—Ç","ü•ú –ü–µ—Ä–µ–∫—É—Å—ã–≤–∞–π—Ç–µ –æ—Ä–µ—Ö–∞–º–∏ –∏–ª–∏ —Ñ—Ä—É–∫—Ç–∞–º–∏ –≤–º–µ—Å—Ç–æ —Å–ª–∞–¥–æ—Å—Ç–µ–π"].sort((()=>.5-Math.random())).slice(0,3),y=()=>{if(!h.trim())return;const e={id:Date.now(),type:"user",text:h,timestamp:new Date};x([...d,e]),m(""),setTimeout((()=>{const e=v(h),s={id:Date.now()+1,type:"assistant",text:e,timestamp:new Date};x((e=>[...e,s]))}),1e3)},v=e=>{const s=e.toLowerCase();return s.includes("–∫–∞–ª–æ—Ä")?`–í–∞—à–∞ –¥–Ω–µ–≤–Ω–∞—è –Ω–æ—Ä–º–∞: ${t.dailyCalories} –∫–∫–∞–ª. –°–µ–≥–æ–¥–Ω—è –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–æ: ${Math.round(u.calories)} –∫–∫–∞–ª. ${u.calories<t.dailyCalories?`–û—Å—Ç–∞–µ—Ç—Å—è ${Math.round(t.dailyCalories-u.calories)} –∫–∫–∞–ª.`:"–ù–æ—Ä–º–∞ –ø—Ä–µ–≤—ã—à–µ–Ω–∞, –±—É–¥—å—Ç–µ –æ—Å—Ç–æ—Ä–æ–∂–Ω–µ–µ —Å –ø–æ—Ä—Ü–∏—è–º–∏."}`:s.includes("–±–µ–ª–æ–∫")?`–í–∞—à–∞ –Ω–æ—Ä–º–∞ –±–µ–ª–∫–∞: ${Math.round(t.protein)}–≥ –≤ –¥–µ–Ω—å. –°–µ–≥–æ–¥–Ω—è –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–æ: ${Math.round(u.protein)}–≥. –•–æ—Ä–æ—à–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –±–µ–ª–∫–∞: –∫—É—Ä–∏—Ü–∞, —Ä—ã–±–∞, —è–π—Ü–∞, —Ç–≤–æ—Ä–æ–≥, –±–æ–±–æ–≤—ã–µ.`:s.includes("–ø–æ—Ö—É–¥")?"–î–ª—è –ø–æ—Ö—É–¥–µ–Ω–∏—è –≤–∞–∂–µ–Ω –¥–µ—Ñ–∏—Ü–∏—Ç –∫–∞–ª–æ—Ä–∏–π 300-500 –∫–∫–∞–ª –≤ –¥–µ–Ω—å, —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø–∏—Ç–∞–Ω–∏–µ –∏ —Ä–µ–≥—É–ª—è—Ä–Ω–∞—è —Ñ–∏–∑–∏—á–µ—Å–∫–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å. –ù–µ —Ç–æ—Ä–æ–ø–∏—Ç–µ—Å—å - –∑–¥–æ—Ä–æ–≤–æ–µ –ø–æ—Ö—É–¥–µ–Ω–∏–µ 0.5-1 –∫–≥ –≤ –Ω–µ–¥–µ–ª—é.":s.includes("—á—Ç–æ —Å—ä–µ—Å—Ç—å")||s.includes("–ø–µ—Ä–µ–∫—É—Å")?"–ü–æ–ø—Ä–æ–±—É–π—Ç–µ: —è–±–ª–æ–∫–æ —Å –æ—Ä–µ—Ö–∞–º–∏, –≥—Ä–µ—á–µ—Å–∫–∏–π –π–æ–≥—É—Ä—Ç —Å —è–≥–æ–¥–∞–º–∏, –æ–≤–æ—â–Ω—ã–µ –ø–∞–ª–æ—á–∫–∏ —Å —Ö—É–º—É—Å–æ–º, –∏–ª–∏ –∫—É—Å–æ—á–µ–∫ —Ü–µ–ª—å–Ω–æ–∑–µ—Ä–Ω–æ–≤–æ–≥–æ —Ö–ª–µ–±–∞ —Å –∞–≤–æ–∫–∞–¥–æ.":"–°–ø–∞—Å–∏–±–æ –∑–∞ –≤–æ–ø—Ä–æ—Å! –Ø –∞–Ω–∞–ª–∏–∑–∏—Ä—É—é –≤–∞—à–µ –ø–∏—Ç–∞–Ω–∏–µ –∏ –º–æ–≥—É –¥–∞—Ç—å —Å–æ–≤–µ—Ç—ã –ø–æ –∫–∞–ª–æ—Ä–∏—è–º, –º–∞–∫—Ä–æ–Ω—É—Ç—Ä–∏–µ–Ω—Ç–∞–º, –ø–æ—Ö—É–¥–µ–Ω–∏—é –∏ –∑–¥–æ—Ä–æ–≤—ã–º –ø–µ—Ä–µ–∫—É—Å–∞–º. –ó–∞–¥–∞–π—Ç–µ –±–æ–ª–µ–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –≤–æ–ø—Ä–æ—Å."};return p.jsxs("div",{className:"assistant",children:[p.jsxs("div",{className:"assistant__header",children:[p.jsx("h1",{className:"assistant__title",children:"ü§ñ –£–º–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫"}),p.jsx("p",{className:"assistant__subtitle",children:"–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –ø–∏—Ç–∞–Ω–∏—é"})]}),o?p.jsxs("div",{className:"assistant__loading",children:[p.jsx("div",{className:"loading-spinner"}),p.jsx("p",{children:"–ê–Ω–∞–ª–∏–∑–∏—Ä—É—é –≤–∞—à —Ä–∞—Ü–∏–æ–Ω..."})]}):r?p.jsxs("div",{className:"assistant__analysis",children:[p.jsxs("div",{className:`analysis-status analysis-status--${r.status}`,children:[p.jsxs("div",{className:"status-icon",children:["good"===r.status&&"‚úÖ","warning"===r.status&&"‚ö†Ô∏è","error"===r.status&&"‚ùå"]}),p.jsxs("div",{className:"status-text",children:[p.jsx("h3",{children:"–ê–Ω–∞–ª–∏–∑ —Ä–∞—Ü–∏–æ–Ω–∞ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è"}),p.jsx("p",{children:r.calorieDeficit>0?`–î–µ—Ñ–∏—Ü–∏—Ç: ${Math.round(r.calorieDeficit)} –∫–∫–∞–ª`:`–ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ: ${Math.abs(Math.round(r.calorieDeficit))} –∫–∫–∞–ª`})]})]}),p.jsxs("div",{className:"recommendations",children:[p.jsx("h3",{children:"–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏"}),r.recommendations.map(((e,s)=>p.jsxs("div",{className:`recommendation recommendation--${e.type}`,children:[p.jsxs("div",{className:"rec-icon",children:["success"===e.type&&"üéâ","info"===e.type&&"üí°","warning"===e.type&&"‚ö†Ô∏è","error"===e.type&&"üö®"]}),p.jsxs("div",{className:"rec-content",children:[p.jsx("p",{children:e.text}),p.jsx("span",{className:"rec-action",children:e.action})]})]},s)))]}),p.jsxs("div",{className:"tips",children:[p.jsx("h3",{children:"üí° –ü–æ–ª–µ–∑–Ω—ã–µ —Å–æ–≤–µ—Ç—ã"}),r.tips.map(((e,s)=>p.jsx("div",{className:"tip",children:p.jsx("span",{className:"tip-text",children:e})},s)))]})]}):null,p.jsxs("div",{className:"assistant__chat",children:[p.jsx("h3",{children:"–ó–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å –ø–æ–º–æ—â–Ω–∏–∫—É"}),!a&&p.jsxs("div",{className:"subscription-notice",children:[p.jsx("p",{children:"üîí –ß–∞—Ç —Å –ò–ò –¥–æ—Å—Ç—É–ø–µ–Ω –≤ Premium –≤–µ—Ä—Å–∏–∏"}),p.jsx("button",{className:"upgrade-btn",onClick:()=>n("settings"),children:"–û–±–Ω–æ–≤–∏—Ç—å –¥–æ Premium"})]}),a&&p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"chat-messages",children:0===d.length?p.jsxs("div",{className:"chat-placeholder",children:[p.jsx("p",{children:"–ü—Ä–∏–º–µ—Ä—ã –≤–æ–ø—Ä–æ—Å–æ–≤:"}),p.jsxs("div",{className:"example-questions",children:[p.jsx("button",{className:"example-btn",onClick:()=>m("–°–∫–æ–ª—å–∫–æ –∫–∞–ª–æ—Ä–∏–π –º–Ω–µ –æ—Å—Ç–∞–ª–æ—Å—å —Å–µ–≥–æ–¥–Ω—è?"),children:"–°–∫–æ–ª—å–∫–æ –∫–∞–ª–æ—Ä–∏–π –æ—Å—Ç–∞–ª–æ—Å—å?"}),p.jsx("button",{className:"example-btn",onClick:()=>m("–ß—Ç–æ —Å—ä–µ—Å—Ç—å –Ω–∞ –ø–µ—Ä–µ–∫—É—Å?"),children:"–ß—Ç–æ —Å—ä–µ—Å—Ç—å –Ω–∞ –ø–µ—Ä–µ–∫—É—Å?"}),p.jsx("button",{className:"example-btn",onClick:()=>m("–ö–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ö—É–¥–µ—Ç—å?"),children:"–ö–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ö—É–¥–µ—Ç—å?"})]})]}):d.map((e=>p.jsx("div",{className:`chat-message chat-message--${e.type}`,children:p.jsxs("div",{className:"message-content",children:[p.jsx("p",{children:e.text}),p.jsx("span",{className:"message-time",children:e.timestamp.toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"})})]})},e.id)))}),p.jsxs("div",{className:"chat-input",children:[p.jsx("input",{type:"text",value:h,onChange:e=>m(e.target.value),placeholder:"–ù–∞–ø–∏—à–∏—Ç–µ –≤–∞—à –≤–æ–ø—Ä–æ—Å...",onKeyPress:e=>"Enter"===e.key&&y()}),p.jsx("button",{onClick:y,disabled:!h.trim(),className:"send-btn",children:"üì§"})]})]})]})]})},J=({foodEntries:e,userProfile:t,isSubscribed:i,onNavigate:a})=>{var n;const[r,l]=s.useState("week"),o=[{value:"day",label:"–î–µ–Ω—å"},{value:"week",label:"–ù–µ–¥–µ–ª—è"},{value:"month",label:"–ú–µ—Å—è—Ü"}],c=s.useMemo((()=>{const{start:s,end:t}=(e=>{const s=new Date,t=new Date;switch(e){case"day":return{start:new Date(s.getFullYear(),s.getMonth(),s.getDate()),end:new Date(s.getFullYear(),s.getMonth(),s.getDate()+1)};case"week":const e=s.getDay();return t.setDate(s.getDate()-e),{start:new Date(t.getFullYear(),t.getMonth(),t.getDate()),end:new Date(s.getFullYear(),s.getMonth(),s.getDate()+1)};case"month":return{start:new Date(s.getFullYear(),s.getMonth(),1),end:new Date(s.getFullYear(),s.getMonth()+1,0)};default:return{start:new Date,end:new Date}}})(r);return e.filter((e=>{const i=new Date(e.date);return i>=s&&i<=t}))}),[e,r]),d=s.useMemo((()=>{if(0===c.length)return{totalCalories:0,avgCalories:0,totalProtein:0,totalCarbs:0,totalFat:0,daysWithData:0,topFoods:[]};const e=c.reduce(((e,s)=>e+(s.calories||0)),0),s=c.reduce(((e,s)=>e+(s.protein||0)),0),t=c.reduce(((e,s)=>e+(s.carbs||0)),0),i=c.reduce(((e,s)=>e+(s.fat||0)),0),a=new Set(c.map((e=>e.date))).size,n=a>0?e/a:0,r={};c.forEach((e=>{const s=e.name||"–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ";r[s]=(r[s]||0)+1}));const l=Object.entries(r).sort((([,e],[,s])=>s-e)).slice(0,5).map((([e,s])=>({name:e,count:s})));return{totalCalories:Math.round(e),avgCalories:Math.round(n),totalProtein:Math.round(s),totalCarbs:Math.round(t),totalFat:Math.round(i),daysWithData:a,topFoods:l}}),[c]),x=s.useMemo((()=>{const e={};return c.forEach((s=>{const t=s.date;e[t]||(e[t]=[]),e[t].push(s)})),Object.entries(e).sort((([e],[s])=>new Date(s)-new Date(e))).map((([e,s])=>({date:e,entries:s,totalCalories:s.reduce(((e,s)=>e+(s.calories||0)),0)})))}),[c]),h=e=>{const s=new Date(e),t=(new Date).toDateString(),i=new Date(Date.now()-864e5).toDateString();return e===t?"–°–µ–≥–æ–¥–Ω—è":e===i?"–í—á–µ—Ä–∞":new Intl.DateTimeFormat("ru-RU",{weekday:"short",day:"numeric",month:"short"}).format(s)};return p.jsxs("div",{className:"history",children:[p.jsxs("div",{className:"history__header",children:[p.jsx("h1",{className:"history__title",children:"üìà –ò—Å—Ç–æ—Ä–∏—è –ø–∏—Ç–∞–Ω–∏—è"}),p.jsx("div",{className:"period-selector",children:o.map((e=>p.jsx("button",{className:"period-btn "+(r===e.value?"period-btn--active":""),onClick:()=>l(e.value),children:e.label},e.value)))})]}),!i&&p.jsx("div",{className:"premium-notice",children:p.jsxs("div",{className:"premium-content",children:[p.jsx("h3",{children:"üîí –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞"}),p.jsx("p",{children:"–ü–æ–ª—É—á–∏—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –ø–æ–¥—Ä–æ–±–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ, –≥—Ä–∞—Ñ–∏–∫–∞–º –∏ –æ—Ç—á–µ—Ç–∞–º"}),p.jsx("button",{className:"upgrade-btn",onClick:()=>a("settings"),children:"–û–±–Ω–æ–≤–∏—Ç—å –¥–æ Premium"})]})}),p.jsxs("div",{className:"history__analytics",children:[p.jsxs("h2",{children:["–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞"," ",null==(n=o.find((e=>e.value===r)))?void 0:n.label.toLowerCase()]}),p.jsxs("div",{className:"analytics-grid",children:[p.jsxs("div",{className:"analytics-card",children:[p.jsx("div",{className:"card-icon",children:"üî•"}),p.jsxs("div",{className:"card-content",children:[p.jsx("h3",{children:d.totalCalories}),p.jsx("p",{children:"–í—Å–µ–≥–æ –∫–∞–ª–æ—Ä–∏–π"})]})]}),p.jsxs("div",{className:"analytics-card",children:[p.jsx("div",{className:"card-icon",children:"üìä"}),p.jsxs("div",{className:"card-content",children:[p.jsx("h3",{children:d.avgCalories}),p.jsx("p",{children:"–°—Ä–µ–¥–Ω–µ–µ –≤ –¥–µ–Ω—å"})]})]}),p.jsxs("div",{className:"analytics-card",children:[p.jsx("div",{className:"card-icon",children:"üí™"}),p.jsxs("div",{className:"card-content",children:[p.jsxs("h3",{children:[d.totalProtein,"–≥"]}),p.jsx("p",{children:"–ë–µ–ª–∫–∏"})]})]}),p.jsxs("div",{className:"analytics-card",children:[p.jsx("div",{className:"card-icon",children:"üçû"}),p.jsxs("div",{className:"card-content",children:[p.jsxs("h3",{children:[d.totalCarbs,"–≥"]}),p.jsx("p",{children:"–£–≥–ª–µ–≤–æ–¥—ã"})]})]}),p.jsxs("div",{className:"analytics-card",children:[p.jsx("div",{className:"card-icon",children:"ü•ë"}),p.jsxs("div",{className:"card-content",children:[p.jsxs("h3",{children:[d.totalFat,"–≥"]}),p.jsx("p",{children:"–ñ–∏—Ä—ã"})]})]}),p.jsxs("div",{className:"analytics-card",children:[p.jsx("div",{className:"card-icon",children:"üìÖ"}),p.jsxs("div",{className:"card-content",children:[p.jsx("h3",{children:d.daysWithData}),p.jsx("p",{children:"–î–Ω–µ–π —Å –¥–∞–Ω–Ω—ã–º–∏"})]})]})]}),d.topFoods.length>0&&p.jsxs("div",{className:"top-foods",children:[p.jsx("h3",{children:"üèÜ –¢–æ–ø –ø—Ä–æ–¥—É–∫—Ç–æ–≤"}),p.jsx("div",{className:"top-foods-list",children:d.topFoods.map(((e,s)=>p.jsxs("div",{className:"top-food-item",children:[p.jsxs("span",{className:"food-rank",children:["#",s+1]}),p.jsx("span",{className:"food-name",children:e.name}),p.jsxs("span",{className:"food-count",children:[e.count," —Ä–∞–∑"]})]},e.name)))})]})]}),p.jsxs("div",{className:"history__entries",children:[p.jsx("h2",{children:"–ò—Å—Ç–æ—Ä–∏—è –∑–∞–ø–∏—Å–µ–π"}),0===x.length?p.jsx("div",{className:"history__empty",children:p.jsxs("div",{className:"empty-state",children:[p.jsx("div",{className:"empty-state__icon",children:"üìù"}),p.jsx("h3",{children:"–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –∑–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥"}),p.jsx("p",{children:"–ù–∞—á–Ω–∏—Ç–µ –¥–æ–±–∞–≤–ª—è—Ç—å –µ–¥—É, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –∏—Å—Ç–æ—Ä–∏—é"}),p.jsx("button",{className:"empty-state__button",onClick:()=>a("food"),children:"üì∑ –î–æ–±–∞–≤–∏—Ç—å –µ–¥—É"})]})}):p.jsx("div",{className:"entries-by-date",children:x.map((({date:e,entries:s,totalCalories:t})=>p.jsxs("div",{className:"date-group",children:[p.jsxs("div",{className:"date-header",children:[p.jsx("h3",{children:h(e)}),p.jsxs("span",{className:"date-calories",children:[Math.round(t)," –∫–∫–∞–ª"]})]}),p.jsx($,{entries:s,showDate:!1,readonly:!0})]},e)))})]})]})},q=({userProfile:e,isSubscribed:t,onProfileUpdate:i,onSubscribe:a,onReset:n,onNavigate:r})=>{const[l,o]=s.useState(!1),[c,d]=s.useState({...e}),x=((e,s)=>{const t=s/100;return e/(t*t)})(e.weight,e.height),h=(m=x)<18.5?{text:"–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–π –≤–µ—Å",color:"#007aff"}:m<25?{text:"–ù–æ—Ä–º–∞–ª—å–Ω—ã–π –≤–µ—Å",color:"#34c759"}:m<30?{text:"–ò–∑–±—ã—Ç–æ—á–Ω—ã–π –≤–µ—Å",color:"#ff9500"}:{text:"–û–∂–∏—Ä–µ–Ω–∏–µ",color:"#ff3b30"};var m;return p.jsxs("div",{className:"settings",children:[p.jsx("div",{className:"settings__header",children:p.jsx("h1",{className:"settings__title",children:"‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏"})}),p.jsxs("div",{className:"settings__section",children:[p.jsxs("div",{className:"section-header",children:[p.jsx("h2",{children:"üë§ –ü—Ä–æ—Ñ–∏–ª—å"}),!l&&p.jsx("button",{className:"edit-btn",onClick:()=>o(!0),children:"–ò–∑–º–µ–Ω–∏—Ç—å"})]}),p.jsx("div",{className:"profile-card",children:l?p.jsxs("div",{className:"profile-form",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"–ü–æ–ª"}),p.jsxs("div",{className:"radio-group",children:[p.jsxs("label",{className:"radio-label",children:[p.jsx("input",{type:"radio",value:"male",checked:"male"===c.gender,onChange:e=>d({...c,gender:e.target.value})}),"–ú—É–∂—Å–∫–æ–π"]}),p.jsxs("label",{className:"radio-label",children:[p.jsx("input",{type:"radio",value:"female",checked:"female"===c.gender,onChange:e=>d({...c,gender:e.target.value})}),"–ñ–µ–Ω—Å–∫–∏–π"]})]})]}),p.jsxs("div",{className:"form-row",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"–í–æ–∑—Ä–∞—Å—Ç"}),p.jsx("input",{type:"number",value:c.age,onChange:e=>d({...c,age:parseInt(e.target.value)}),min:"1",max:"120"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"–†–æ—Å—Ç (—Å–º)"}),p.jsx("input",{type:"number",value:c.height,onChange:e=>d({...c,height:parseInt(e.target.value)}),min:"100",max:"250"})]})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"–í–µ—Å (–∫–≥)"}),p.jsx("input",{type:"number",value:c.weight,onChange:e=>d({...c,weight:parseInt(e.target.value)}),min:"30",max:"300"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"–£—Ä–æ–≤–µ–Ω—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏"}),p.jsxs("select",{value:c.activity,onChange:e=>d({...c,activity:e.target.value}),children:[p.jsx("option",{value:"sedentary",children:"–ú–∞–ª–æ–ø–æ–¥–≤–∏–∂–Ω—ã–π"}),p.jsx("option",{value:"light",children:"–õ–µ–≥–∫–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å"}),p.jsx("option",{value:"moderate",children:"–£–º–µ—Ä–µ–Ω–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å"}),p.jsx("option",{value:"active",children:"–í—ã—Å–æ–∫–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å"}),p.jsx("option",{value:"very_active",children:"–û—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å"})]})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"–¶–µ–ª—å"}),p.jsxs("select",{value:c.goal,onChange:e=>d({...c,goal:e.target.value}),children:[p.jsx("option",{value:"lose",children:"–ü–æ—Ö—É–¥–µ–Ω–∏–µ"}),p.jsx("option",{value:"maintain",children:"–ü–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ –≤–µ—Å–∞"}),p.jsx("option",{value:"gain",children:"–ù–∞–±–æ—Ä –º–∞—Å—Å—ã"})]})]}),p.jsxs("div",{className:"form-actions",children:[p.jsx("button",{className:"save-btn",onClick:()=>{i(c),o(!1)},children:"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"}),p.jsx("button",{className:"cancel-btn",onClick:()=>{d({...e}),o(!1)},children:"–û—Ç–º–µ–Ω–∞"})]})]}):p.jsxs("div",{className:"profile-info",children:[p.jsxs("div",{className:"profile-stats",children:[p.jsxs("div",{className:"stat-item",children:[p.jsx("span",{className:"stat-label",children:"–ü–æ–ª"}),p.jsx("span",{className:"stat-value",children:"male"===e.gender?"–ú—É–∂—Å–∫–æ–π":"–ñ–µ–Ω—Å–∫–∏–π"})]}),p.jsxs("div",{className:"stat-item",children:[p.jsx("span",{className:"stat-label",children:"–í–æ–∑—Ä–∞—Å—Ç"}),p.jsxs("span",{className:"stat-value",children:[e.age," –ª–µ—Ç"]})]}),p.jsxs("div",{className:"stat-item",children:[p.jsx("span",{className:"stat-label",children:"–†–æ—Å—Ç"}),p.jsxs("span",{className:"stat-value",children:[e.height," —Å–º"]})]}),p.jsxs("div",{className:"stat-item",children:[p.jsx("span",{className:"stat-label",children:"–í–µ—Å"}),p.jsxs("span",{className:"stat-value",children:[e.weight," –∫–≥"]})]})]}),p.jsxs("div",{className:"bmi-info",children:[p.jsxs("div",{className:"bmi-value",children:[p.jsx("span",{className:"bmi-number",children:x.toFixed(1)}),p.jsx("span",{className:"bmi-label",children:"–ò–ú–¢"})]}),p.jsx("div",{className:"bmi-category",style:{color:h.color},children:h.text})]})]})})]}),p.jsxs("div",{className:"settings__section",children:[p.jsx("h2",{children:"üíé –ü–æ–¥–ø–∏—Å–∫–∞"}),t?p.jsxs("div",{className:"subscription-active",children:[p.jsxs("div",{className:"subscription-status",children:[p.jsx("span",{className:"status-icon",children:"‚úÖ"}),p.jsxs("div",{className:"status-text",children:[p.jsx("h3",{children:"Cal AI Premium –∞–∫—Ç–∏–≤–Ω–∞"}),p.jsx("p",{children:"–£ –≤–∞—Å –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º —Ñ—É–Ω–∫—Ü–∏—è–º"})]})]}),p.jsxs("div",{className:"premium-features",children:[p.jsxs("div",{className:"feature-item",children:[p.jsx("span",{className:"feature-icon",children:"ü§ñ"}),p.jsx("span",{children:"–ò–ò-–ø–æ–º–æ—â–Ω–∏–∫"})]}),p.jsxs("div",{className:"feature-item",children:[p.jsx("span",{className:"feature-icon",children:"üìä"}),p.jsx("span",{children:"–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞"})]}),p.jsxs("div",{className:"feature-item",children:[p.jsx("span",{className:"feature-icon",children:"üìà"}),p.jsx("span",{children:"–ü–æ–¥—Ä–æ–±–Ω—ã–µ –æ—Ç—á–µ—Ç—ã"})]}),p.jsxs("div",{className:"feature-item",children:[p.jsx("span",{className:"feature-icon",children:"‚òÅÔ∏è"}),p.jsx("span",{children:"–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö"})]})]})]}):p.jsxs("div",{className:"subscription-offer",children:[p.jsxs("div",{className:"offer-header",children:[p.jsx("h3",{children:"–ü–æ–ª—É—á–∏—Ç–µ –±–æ–ª—å—à–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π"}),p.jsxs("div",{className:"price",children:["299‚ÇΩ",p.jsx("span",{className:"price-period",children:"/–º–µ—Å—è—Ü"})]})]}),p.jsxs("div",{className:"offer-features",children:[p.jsxs("div",{className:"feature-item",children:[p.jsx("span",{className:"feature-icon",children:"ü§ñ"}),p.jsx("span",{children:"–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –ò–ò-–ø–æ–º–æ—â–Ω–∏–∫"})]}),p.jsxs("div",{className:"feature-item",children:[p.jsx("span",{className:"feature-icon",children:"üìä"}),p.jsx("span",{children:"–î–µ—Ç–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–∏—Ç–∞–Ω–∏—è"})]}),p.jsxs("div",{className:"feature-item",children:[p.jsx("span",{className:"feature-icon",children:"üìà"}),p.jsx("span",{children:"–ì—Ä–∞—Ñ–∏–∫–∏ –∏ –æ—Ç—á–µ—Ç—ã"})]}),p.jsxs("div",{className:"feature-item",children:[p.jsx("span",{className:"feature-icon",children:"üéØ"}),p.jsx("span",{children:"–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏"})]}),p.jsxs("div",{className:"feature-item",children:[p.jsx("span",{className:"feature-icon",children:"‚òÅÔ∏è"}),p.jsx("span",{children:"–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö"})]})]}),p.jsx("button",{className:"subscribe-btn",onClick:()=>{var e,s;(null==(s=null==(e=window.Telegram)?void 0:e.WebApp)?void 0:s.showPopup)?window.Telegram.WebApp.showPopup({title:"Cal AI Premium",message:"–ü–æ–ª—É—á–∏—Ç–µ –¥–æ—Å—Ç—É–ø –∫ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–π –∞–Ω–∞–ª–∏—Ç–∏–∫–µ, –ò–ò-–ø–æ–º–æ—â–Ω–∏–∫—É –∏ –±–µ–∑–ª–∏–º–∏—Ç–Ω—ã–º —Ñ—É–Ω–∫—Ü–∏—è–º –∑–∞ 299‚ÇΩ/–º–µ—Å—è—Ü",buttons:[{id:"subscribe",type:"default",text:"–ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è"},{id:"cancel",type:"cancel",text:"–û—Ç–º–µ–Ω–∞"}]},(e=>{"subscribe"===e&&(a(),window.Telegram.WebApp.showAlert("–ü–æ–¥–ø–∏—Å–∫–∞ —É—Å–ø–µ—à–Ω–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∞! üéâ"))})):a()},children:"–ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ Premium"})]})]}),p.jsxs("div",{className:"settings__section",children:[p.jsx("h2",{children:"üîß –ü—Ä–æ—á–µ–µ"}),p.jsxs("div",{className:"settings-list",children:[p.jsxs("button",{className:"settings-item",onClick:()=>r("assistant"),children:[p.jsx("span",{className:"settings-icon",children:"ü§ñ"}),p.jsxs("div",{className:"settings-text",children:[p.jsx("span",{className:"settings-title",children:"–ü–æ–º–æ—â–Ω–∏–∫"}),p.jsx("span",{className:"settings-desc",children:"–ü–æ–ª—É—á–∏—Ç—å —Å–æ–≤–µ—Ç –ø–æ –ø–∏—Ç–∞–Ω–∏—é"})]}),p.jsx("span",{className:"settings-arrow",children:"‚Ä∫"})]}),p.jsxs("button",{className:"settings-item",onClick:()=>r("history"),children:[p.jsx("span",{className:"settings-icon",children:"üìà"}),p.jsxs("div",{className:"settings-text",children:[p.jsx("span",{className:"settings-title",children:"–ò—Å—Ç–æ—Ä–∏—è"}),p.jsx("span",{className:"settings-desc",children:"–ü—Ä–æ—Å–º–æ—Ç—Ä –∞–Ω–∞–ª–∏—Ç–∏–∫–∏"})]}),p.jsx("span",{className:"settings-arrow",children:"‚Ä∫"})]}),p.jsxs("div",{className:"settings-item settings-item--danger",children:[p.jsx("span",{className:"settings-icon",children:"üóëÔ∏è"}),p.jsxs("div",{className:"settings-text",children:[p.jsx("span",{className:"settings-title",children:"–°–±—Ä–æ—Å–∏—Ç—å –¥–∞–Ω–Ω—ã–µ"}),p.jsx("span",{className:"settings-desc",children:"–£–¥–∞–ª–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è"})]})]})]})]}),p.jsx("div",{className:"settings__danger-zone",children:p.jsx("button",{className:"reset-btn",onClick:()=>{window.confirm("–í—ã —É–≤–µ—Ä–µ–Ω—ã? –í—Å–µ –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã –±–µ–∑–≤–æ–∑–≤—Ä–∞—Ç–Ω–æ.")&&n()},children:"üóëÔ∏è –°–±—Ä–æ—Å–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ"})}),p.jsxs("div",{className:"settings__footer",children:[p.jsx("p",{children:"Cal AI v1.0.0"}),p.jsx("p",{children:"–ê–Ω–∞–ª–æ–≥ –ø–æ–ø—É–ª—è—Ä–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è –ø–æ–¥—Å—á–µ—Ç–∞ –∫–∞–ª–æ—Ä–∏–π"})]})]})},K=({currentScreen:e,onNavigate:s,foodEntriesCount:t})=>{const i=[{id:"results",icon:"üè†",label:"–ì–ª–∞–≤–Ω–∞—è",screen:"results"},{id:"food",icon:"üì∑",label:"–î–æ–±–∞–≤–∏—Ç—å",screen:"food"},{id:"summary",icon:"üìä",label:"–î–Ω–µ–≤–Ω–∏–∫",screen:"summary",badge:t>0?t:null},{id:"assistant",icon:"ü§ñ",label:"–ü–æ–º–æ—â–Ω–∏–∫",screen:"assistant"},{id:"history",icon:"üìà",label:"–ò—Å—Ç–æ—Ä–∏—è",screen:"history"},{id:"settings",icon:"‚öôÔ∏è",label:"–ù–∞—Å—Ç—Ä–æ–π–∫–∏",screen:"settings"}];return p.jsx("nav",{className:"navigation",children:p.jsx("div",{className:"nav-container",children:i.map((t=>p.jsxs("button",{className:"nav-item "+(e===t.screen?"nav-item--active":""),onClick:()=>s(t.screen),children:[p.jsxs("div",{className:"nav-icon",children:[t.icon,t.badge&&p.jsx("span",{className:"nav-badge",children:t.badge})]}),p.jsx("span",{className:"nav-label",children:t.label})]},t.id)))})})};function G(){const[e,t]=s.useState("onboarding"),[i,a]=s.useState(null),[n,r]=s.useState(null),[l,o]=s.useState([]),[c,d]=s.useState(!1);s.useEffect((()=>{var e;if(null==(e=window.Telegram)?void 0:e.WebApp){const e=window.Telegram.WebApp;e.ready(),e.expand(),e.setHeaderColor(e.themeParams.bg_color||"#ffffff"),e.setBackgroundColor(e.themeParams.bg_color||"#ffffff"),e.MainButton.setParams({text:"–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å",is_visible:!1}),e.onEvent("mainButtonClicked",g),e.onEvent("backButtonClicked",u)}x()}),[]),s.useEffect((()=>{m()}),[e,i]);const x=()=>{try{const e=localStorage.getItem("userProfile"),s=localStorage.getItem("foodEntries"),i=localStorage.getItem("isSubscribed");if(e){const s=JSON.parse(e);a(s),r(b(s)),t("results")}s&&o(JSON.parse(s)),i&&d(JSON.parse(i))}catch(e){console.error("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö:",e)}},h=(e,s)=>{try{e&&localStorage.setItem("userProfile",JSON.stringify(e)),s&&localStorage.setItem("foodEntries",JSON.stringify(s))}catch(t){console.error("–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö:",t)}},m=()=>{var s;if(!(null==(s=window.Telegram)?void 0:s.WebApp))return;const t=window.Telegram.WebApp;switch(e){case"onboarding":case"food":default:t.MainButton.hide();break;case"results":t.MainButton.setParams({text:"üì∑ –î–æ–±–∞–≤–∏—Ç—å –µ–¥—É",is_visible:!0})}},g=()=>{if("results"===e)t("food")},u=()=>{switch(e){case"food":case"summary":case"assistant":case"history":case"settings":t("results")}},j=e=>{const s=b(e);a(e),r(s),t("results"),h(e,l)},f=e=>{const s=e.map((e=>({...e,id:Date.now()+Math.random(),timestamp:new Date,date:(new Date).toDateString()}))),a=[...l,...s];o(a),h(i,a),t("summary")},y=(e,s)=>{const t=l.map((t=>t.id===e?{...t,...s}:t));o(t),h(i,t)},v=e=>{const s=l.filter((s=>s.id!==e));o(s),h(i,s)},N=()=>{a(null),r(null),o([]),t("onboarding"),localStorage.clear()},S=()=>{d(!0),localStorage.setItem("isSubscribed",JSON.stringify(!0))},w="onboarding"!==e&&i;return p.jsxs("div",{className:"container",children:[(()=>{switch(e){case"onboarding":default:return p.jsx(B,{onComplete:j});case"results":return p.jsx(D,{calorieData:n,userProfile:i,onReset:N,onNavigate:t});case"food":return p.jsx(U,{userProfile:i,calorieData:n,onFoodAdd:f,onBack:()=>t("results")});case"summary":return p.jsx(Y,{foodEntries:l,calorieData:n,userProfile:i,onEdit:y,onDelete:v,onNavigate:t});case"assistant":return p.jsx(H,{foodEntries:l,calorieData:n,userProfile:i,isSubscribed:c,onNavigate:t});case"history":return p.jsx(J,{foodEntries:l,userProfile:i,isSubscribed:c,onNavigate:t});case"settings":return p.jsx(q,{userProfile:i,isSubscribed:c,onProfileUpdate:e=>{a(e),r(b(e)),h(e,l)},onSubscribe:S,onReset:N,onNavigate:t})}})(),w&&p.jsx(K,{currentScreen:e,onNavigate:t,foodEntriesCount:l.filter((e=>e.date===(new Date).toDateString())).length})]})}(null==(e=window.Telegram)?void 0:e.WebApp)&&(window.Telegram.WebApp.ready(),window.Telegram.WebApp.expand()),m.createRoot(document.getElementById("root")).render(p.jsx(i.StrictMode,{children:p.jsx(G,{})}));
